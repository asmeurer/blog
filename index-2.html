<!DOCTYPE html>
<html prefix="
        og: http://ogp.me/ns#
        article: http://ogp.me/ns/article#
    " lang="en">
    <head>
    <meta charset="utf-8">
    <meta name="description" content="My blog">
    <meta name="viewport" content="width=device-width">
    <title>Aaron Meurer's Blog (old posts, page 2) | Aaron Meurer's Blog</title>

    
            <link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">

    
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

      <link rel="canonical" href="http://asmeurer.github.io/index-2.html">



    
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
   tex2jax: {
       inlineMath: [ ['$','$'], ["\\(","\\)"], ['$ latex','$'] ],
       displayMath: [ ['$$','$$'], ["\\[","\\]"] ]
   },
   displayAlign: 'left', // Change this to 'center' to center equations.
   "HTML-CSS": {
       styles: {'.MathJax_Display': {"margin": 0}}
   }
});
</script>

        <!--[if lt IE 9]><script src="/assets/js/html5.js"></script><![endif]-->

    
<link rel="stylesheet" type="text/css" href="assets/css/tipuesearch.css">
</head>
<body>
<div id="tipue_search_content" style="margin-left: auto; margin-right: auto; padding: 20px;"></div>







<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container-fluid">
<!-- This keeps the margins nice -->
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="http://asmeurer.github.io/">Aaron Meurer's Blog</a>
        </div>
<!-- /.navbar-header -->
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                
                <li>
<a href="archive.html">Archives</a>
                </li>
<li>
<a href="categories/index.html">Tags</a>
                </li>
<li>
<a href="rss.xml">RSS</a>

            </li>
</ul>
                
<span class="navbar-form pull-left">
<input type="text" id="tipue_search_input">
</span>

            <ul class="nav navbar-nav navbar-right">
                
                
                    
            </ul>
        </div>
<!-- /.navbar-collapse -->
    </div>
<!-- /.container-fluid -->
</nav>

<!-- End of Menubar -->

<div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
<div class="postindex">
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/08/12/testing-implicit-solutions-to-odes/" class="u-url">Testing implicit solutions to ODEs</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/08/12/testing-implicit-solutions-to-odes/" rel="bookmark"><time class="published dt-published" datetime="2009-08-12T21:27:21-05:00" itemprop="datePublished" title="Publication date">2009-08-12 21:27</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/08/12/testing-implicit-solutions-to-odes/#disqus_thread" data-disqus-identifier="cache/posts/2009/08/12/testing-implicit-solutions-to-odes.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>So, the hard dead­line for GSoC it Mon­day, so this will prob­a­bly be my last post un­til then (I am very busy try­ing to fin­ish up the ode mod­ule by then).  But this is one of those things that you just have to blog about.</p> 
 <p>So I have this check­sol func­tion in test_ode.py that at­tempts to check it the so­lu­tions to odes are valid or not.  It was a rel­ic of the old ode mod­ule.  For that, it would just sub­sti­tute the so­lu­tion in­to the ode and see if it sim­pli­fied to 0.  That is what it still does, if the so­lu­tion is solved for f(x) (the func­tion for all of my ode test­s).  But if the so­lu­tion is im­plic­it in f, ei­ther be­cause solve() is not good enough to solve it or be­cause it can­not be solved, then that method ob­vi­ous­ly does not work.  So what I was try­ing to do is what my text­book sug­gest­ed.  Take the de­riv­a­tive of the so­lu­tion im­plic­it­ly n times, where n is the or­der of the ode, and see if that is equal to the ode.  Ba­si­cal­ly, I was sub­tract­ing the ode from it and see­ing if it re­duced to 0.</p> 
 <p>How­ev­er, it was­n't re­al­ly work­ing at all for most of my im­plic­it so­lu­tion­s, even the re­al­ly sim­ple ones.  I end­ed up XFAIL­ing most of my im­plic­it check­sol test­s.  I think ev­ery sin­gle  <a href="http://asmeurersympy.wordpress.com/2009/05/31/first-order-differential-equations-with-homogeneous-coefficients/">ho­mo­ge­neous co­ef­fi­cients</a>  had an im­plic­it so­lu­tion, and none of them were work­ing with check­sol().   </p> 
 <p>So I start­ed to ask around on IRC to see if any­one had any bet­ter ideas for test­ing these.  On­drej could­n't think of any­thing.  Luke and Chris worked on an ex­am­ple that I gave them, and it seemed to be that it  <em>was­n't</em>  cor­rect (which I did­n't be­lieve for a sec­ond, be­cause the so­lu­tion was straight out of my tex­t, and both ho­mo­ge­neous co­ef­fi­cients in­te­grals pro­duced that same so­lu­tion).  It turns out that we were mix­ing up $la­tex \log{\frac{y}{x}}$ and $la­tex \log{\frac{x}{y}}$ terms.  One of those ap­peared in the ode and the oth­er ap­peared in the so­lu­tion (the ode was $la­tex y dx  + x\log{\frac{y}{x}}dy - 2x dy = 0$ and the so­lu­tion is $la­tex \frac{y}{1 + \log{\frac{x}{y}}}=C$,  <a href="http://books.google.com.np/books?id=29utVed7QMIC&amp;lpg=PA24&amp;ots=uxLSUKt_3P&amp;dq=testing%20implicit%20solutions%20to%20ode&amp;hl=en&amp;pg=PA61#v=onepage&amp;q=&amp;f=false">num­ber 9 from my odes tex­t, pg. 61</a>.   </p> 
 <p>So Chris had a nov­el idea.  For 1st or­der odes, you can take the de­riv­a­tive of the so­lu­tion and solve for $la­tex \frac{dy}{dx}$, which will al­ways be pos­si­ble, be­cause dif­fer­en­ti­a­tion is a lin­ear op­er­a­tor.  Then sub­sti­tute that in­to the orig­i­nal ode, and it will re­duce.   </p> 
 <p>So we were talk­ing about this on IRC lat­er, and I had an epiphany as to why my orig­i­nal method was­n't work­ing.  Af­ter try­ing it man­u­al­ly on an ode, I found that I had to mul­ti­ply through the so­lu­tion's de­riv­a­tive by $la­tex \frac{x}{f(x)}$ to make it equal to the ode.  Then, that re­mind­ed me of an im­por­tant so­lu­tion method that I did­n't have time to im­ple­ment this sum­mer: in­te­grat­ing fac­tors.  I re­mem­ber that my text­book had  <a href="http://books.google.com.np/books?id=29utVed7QMIC&amp;lpg=PA24&amp;ots=uxLSUKt_3P&amp;dq=testing%20implicit%20solutions%20to%20ode&amp;hl=en&amp;pg=PA83#v=onepage&amp;q=&amp;f=false">men­tioned</a>  that there is a the­o­rem that states that ev­ery 1st or­der ODE that is lin­ear in the de­riv­a­tive has a unique in­te­grat­ing fac­tor that makes it ex­ac­t.  And I re­al­ized, the de­riv­a­tive of the so­lu­tion will be equal to the ODE if and on­ly if the ODE is ex­ac­t.  I checked my ex­act tests and ver­i­fied my hunch.  I had to XFAIL all of my im­plic­it ho­mo­ge­neous co­ef­fi­cients so­lu­tion­s, but all of my ex­act check­sols were work­ing just fine.   </p> 
 <p>So I refac­tored my check­sol func­tion to do this, and it now can check al­most ev­ery one of my fail­ing check­sol­s.  The ex­cep­tions are some where trigsim­p() can­not sim­pli­fy the so­lu­tion to 0 (we have a poor trigsim­p), a sec­ond or­der so­lu­tion (the above trick on­ly works on 1st or­der odes, I be­lieve), and some oth­er sim­pli­fi­ca­tion prob­lem­s.  </p> 
 <p>The on­ly down side to this new rou­tine is that it is kind of slow (be­cause of the sim­pli­fi­ca­tion).  I am go­ing to have to skip a test of on­ly 6 so­lu­tions be­cause it takes 24 sec­onds to com­plete.   </p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/08/10/homogeneous-coefficients-corner-case/" class="u-url">Homogeneous coefficients corner case</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/08/10/homogeneous-coefficients-corner-case/" rel="bookmark"><time class="published dt-published" datetime="2009-08-10T17:30:22-05:00" itemprop="datePublished" title="Publication date">2009-08-10 17:30</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/08/10/homogeneous-coefficients-corner-case/#disqus_thread" data-disqus-identifier="cache/posts/2009/08/10/homogeneous-coefficients-corner-case.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>Be­fore I start­ed the pro­gram, I im­ple­ment­ed Bernoul­li equa­tion­s.  But the gen­er­al so­lu­tion to Bernoul­li equa­tions in­volves rais­ing some­thing to the pow­er of $la­tex \frac{1}{1-n}$, where n is the pow­er of the de­pen­dent term (see the  <a href="http://en.wikipedia.org/wiki/Special:Search?search=bernoulli%20differential%20equation&amp;go=Go">Wikipedia page</a>  for more in­fo).  This works great, as I soon dis­cov­ered, un­less n == 1.  Then you get some­thing to the pow­er of $la­tex \in­fty$.  So I had to go in and re­move the cor­ner case.</p> 
 <p>So you think that af­ter that I would have been more care­ful af­ter that about check­ing that if gen­er­al so­lu­tion that di­vides by some­thing I would test to see if that some­thing is not ze­ro be­fore re­turn­ing it as a so­lu­tion.</p> 
 <p>Well, as I was just try­ing to im­ple­ment some sep­a­ra­ble equa­tion test­s, I was go­ing through the ex­er­cis­es of my ode text as I usu­al­ly do for test­s, and I came across $la­tex xy' - y = 0$.  If you re­cal­l, this equa­tion al­so has co­ef­fi­cients that ho­mo­ge­neous of the same or­der (1). From the gen­er­al so­lu­tion to ho­mo­ge­neous co­ef­fi­cients, you would plug it in­to $la­tex \in­t{\frac{dx}{x}}=\in­t{\frac{-Q(1,u)­du}{P(1,u)+uQ(1,u)}}+C$ where $la­tex u = \frac{y}{x}$ or $la­tex \in­t{\frac{dy}{y}}=\in­t{\frac{-P(u,1)­du}{uP(u,1)+Q(u,1)}}+C$ where $la­tex u = \frac{x}{y}$ (here, P and Q are from the gen­er­al form $la­tex P(x,y)dx+Q(x,y)dy=0$).  Well, it turns out that if you plug the co­ef­fi­cients from my ex­am­ple in­to those equa­tion­s, the de­nom­i­na­tor will be­come 0 for each one.  So I (ob­vi­ous­ly) need to check for that $la­tex P(1,u)+uQ(1,u)$ and  $la­tex uP­(u,1)+Q(u,1)$ are not 0 be­fore run­ning the ho­mo­ge­neous co­ef­fi­cients solver on a dif­fer­en­tial equa­tion.</p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/08/01/variation-of-parameters-and-more/" class="u-url">Variation of Parameters and More</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/08/01/variation-of-parameters-and-more/" rel="bookmark"><time class="published dt-published" datetime="2009-08-01T17:39:48-05:00" itemprop="datePublished" title="Publication date">2009-08-01 17:39</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/08/01/variation-of-parameters-and-more/#disqus_thread" data-disqus-identifier="cache/posts/2009/08/01/variation-of-parameters-and-more.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>Well, the last time I post­ed a project up­date, I had re­signed my­self to writ­ing a con­stant sim­pli­fy­ing func­tion and putting the Con­stant class on the shelf.  Well, just as I sus­pect­ed, it was hell writ­ing it, but I even­tu­al­ly got it work­ing.  Al­ready, what I have in dsolve() ben­e­fits from it.  I had many so­lu­tions with things like $la­tex \frac{x}{C_1}$ or $la­tex -C_1x$ in them, and they are now au­to­mat­i­cal­ly re­duced to just $la­tex C_1x$.  Of course, the dis­ad­van­tage to this, as I men­tioned in the oth­er post, is that it will on­ly sim­pli­fy once.  Al­so, I wrote the func­tion very specif­i­cal­ly for ex­pres­sions re­turned by dsolve.  It on­ly work­s, for ex­am­ple, with con­stants named se­quen­tial­ly like C1, C2, C3 and so on.  Even with mak­ing it spe­cial­ized, it was still hell to write.  I was al­so able to get it to renum­ber the con­stants, so some­thing like  <code>C2<em>sin(x) + C1</em>cos(x)</code>  would get trans­fered to  <code>C1<em>sin(x) + C2</em>cos(x)</code>.  It us­es  <code>Ba­sic._­com­pare_pret­ty()</code>  (thanks to Andy for that tip), so it will al­ways num­ber the con­stants in the or­der they are print­ed.   </p> 
 <p>Once I got that work­ing, it was just lit­tle work to fin­ish up what I had al­ready start­ed with solv­ing gen­er­al lin­ear ho­mo­ge­neous odes ($la­tex a_ny^{(n)} + a_{n-1}y^{(n-1)} + \dots + a_2y'' + a_1y' + a_0y = 0$ with $la­tex a_i$ con­stant for all $la­tex i$).  Solv­ing these equa­tions is easy.  You just set up a poly­no­mi­al of the form $la­tex a_n­m^n + a_{n-1}m^{n-1} + \c­dots + a_2m^2 + a_1m + a_0 = 0$ and find the roots of it.  Then you plug the roots in­to an ex­po­nen­tial times $la­tex x^i$ for i from 1 to the mul­ti­plic­i­ty of the root  (as in $la­tex Cx^ie^{­root \c­dot x}$).  You usu­al­ly ex­pand the re­al and com­plex parts of the root us­ing Eu­ler's For­mu­la, and, once you sim­pli­fy the con­stants, you get some­thing like $la­tex x^ie^{re­al­part \c­dot x}(C_1\s­in{(im­part \c­dot x)} + C_2\­cos{(im­part \c­dot x)})$ for each i from 1 to the mul­ti­plic­i­ty of the root.  Any­way, with the new con­stantsim­p() rou­tine, I was able to set this whole thing up as one step, be­cause if the imag­i­nary part is 0, then the two con­stants will be sim­pli­fied in­to each oth­er.  Al­so, SymPy has some good poly­no­mi­al solv­ing, so I did­n't have any prob­lems there.  I even made good use of the col­lec­t() func­tion to fac­tor out com­mon terms, so you get some­thing like $la­tex (C_1 + C_2x)e^{x}$ in­stead of $la­tex C_1e^{x} + C_2x­e^{x}$, which for larg­er or­der so­lu­tion­s, can make the so­lu­tion much eas­i­er to read (com­pare for ex­am­ple, $la­tex ((C_1 + C_2x)\s­in{x} + (C_3 + C_4x)\­cos{x})e^{x}$ with the ex­pand­ed for­m, $la­tex C_1e^{x}\s­in{x} + C_2x­e^{x}\s­in{x} + C_3\­cos{x}e^{x} + C_4x\­cos{x}{e^x}$ as the so­lu­tion to $la­tex {\frac {d^{4}}{d{x}^{4}}}f \left( x \right) -4\,{\frac {d^{3}}{d{x}^{3}}}f \left( x \right) +8\,{\frac {d^{2}}{d{x}^{2}}}f \left( x \right) -8\,{\frac {d}{dx}}f \left( x \right) +4\,f \left( x \right) =0$).   </p> 
 <p>I en­tered all 30 ex­am­ples from the rel­e­vant chap­ter of my text (Or­di­nary Dif­fer­en­tial Equa­tions by Mor­ris Tenen­baum and Har­ry Pol­lard), and the whole thing runs in un­der 2 sec­onds on my ma­chine.  So it is fast, though that is most­ly due to fast poly­no­mi­al solv­ing in SymPy.   </p> 
 <p>So once I got that work­ing well, I start­ed im­ple­ment­ing vari­a­tion of pa­ram­e­ter­s, which is a gen­er­al method for solv­ing all equa­tions of form $la­tex a_ny^{(n)} + a_{n-1}y^{(n-1)} + \dots + a_2y'' + a_1y' + a_0y = F(x)$.  The method will set up an in­te­gral to rep­re­sent the par­tic­u­lar so­lu­tion to any equa­tion of this for­m, as­sum­ing that you have all $la­tex n$ lin­ear­ly in­de­pen­dent so­lu­tions to the ho­mo­ge­neous equa­tion $la­tex a_ny^{(n)} + a_{n-1}y^{(n-1)} + \dots + a_2y'' + a_1y' + a_0y = 0$.  The co­ef­fi­cients $la­tex a_i$ do not even have to be con­stant for this method to work, al­though they do have to be in my im­plan­ta­tion be­cause oth­er­wise it will not be able to find gen­er­al so­lu­tion to the ho­mo­ge­neous equa­tion.   </p> 
 <p>So, aside from do­ing my GSoC project this sum­mer, I am al­so learn­ing Lin­ear Al­ge­bra, be­cause I could not fit it in to my sched­ule next se­mes­ter and I need to know it for my Knot The­o­ry class.  It turns out that it was very use­ful in learn­ing the method of vari­a­tion of pa­ram­e­ter­s.  I will ex­plain how the method works be­low, but first I have a lit­tle rant.   </p> 
 <p>Why is the Wikipedia ar­ti­cle on  <a href="http://en.wikipedia.org/wiki/Variation_of_parameters">vari­a­tion of pa­ram­e­ters</a>  the on­ly web­site any­where that cov­ers vari­a­tion of pa­ram­e­ters in the gen­er­al case?  Ev­ery oth­er site that I could find on­ly cov­ers 2nd or­der equa­tion­s, which I un­der­stand is what is taught in most cour­ses be­cause ap­ply­ing it to any­thing high­er can be te­dious and de­riv­ing the nth or­der case re­quires knowl­edge of Cramer's Rule, which many stu­dents may not know.  But you would think that there would at least be sites that dis­cuss what I am about to dis­cuss be­low, name­ly, ap­ply­ing it to the gen­er­al case of an nth or­der in­ho­mo­ge­neous lin­ear ode.  Even the  <a href="http://mathworld.wolfram.com/VariationofParameters.html">Wolphram Math­World ar­ti­cle</a>  on­ly ex­plains the deriva­tion for a sec­ond or­der lin­ear ODE, men­tion­ing at the bot­tom that it can be ap­plied to nth or­der lin­ear ODEs.  I did find a web­site called  <a href="http://planetmath.org/encyclopedia/VariationOfParameters.html">Plan­et Math</a>  that cov­ers the gen­er­al case, but it was­n't on the top of the Google re­sults list and took some dig­ging to find.  It al­so has prob­lems of its own, like be­ing on a very slow serv­er and some of the La­TeX on the page not ren­der­ing among them.  </p> 
 <p>This par­tial­ly an­noys me be­cause the Wikipedia ar­ti­cle is not very well writ­ten.  You have to read through it sev­er­al times to un­der­stand the deriva­tion (I will try to be bet­ter be­low).  The Plan­et Math site is a lit­tle bet­ter, but like I said, it took some dig­ging to find, and I ac­tu­al­ly found it af­ter I had writ­ten up half of this post al­ready.   </p> 
 <p>But it is al­so part of a larg­er at­ti­tude that I am find­ing more and more of where any­thing that is not like­ly to be di­rect­ly ap­plied is not worth know­ing and thus not worth teach­ing.  Sure, it is not like­ly that any per­son do­ing hand cal­cu­la­tions will ev­er at­tempt vari­a­tion of pa­ram­e­ters on an ode of or­der high­er than 2 or 3, but that is what com­put­er al­ge­bra sys­tems like SymPy are for.  Un­for­tu­nate­ly, it seems that they are al­so in a large part for al­low­ing you to not know how or why some­thing math­e­mat­i­cal­ly is true.  What dif­fer­ence does it make if vari­a­tion of pa­ram­e­ters can be ap­plied to a 5th or­der ODE if I have to use Maple to do ac­tu­al­ly do it any­way.  As long as the mak­ers of Maple know how to ap­ply vari­a­tion of pa­ram­e­ters to a nth or­der ODE, I can get along just fine.  At least with SymPy, the source is freely avail­able, so any­one who does de­sire to know how things are work­ing can eas­i­ly see.  Any­way, I am done rant­ing now, so if you were skip­ping that part, this would be the point to start read­ing again.</p> 
 <p>So you have your lin­ear in­ho­mo­ge­neous ODE: $la­tex a_ny^{(n)} + a_{n-1}y^{(n-1)} + \dots + a_2y'' + a_1y' + a_0y = F(x)$.  $la­tex a_n$ can­not be ze­ro (other­wise it would be a n-1 or­der ODE), so we can and should di­vide through by it.  Lets pre­tend that we al­ready did that, and just use the same let­ter­s.  Al­so, I will re­write $la­tex a_n$ as $la­tex a_n(x)$ to em­pha­size that the co­ef­fi­cients do not have to be con­stants for this to work.  So you have your lin­ear in­ho­mo­ge­neous ODE: $la­tex y^{(n)} + a_{n-1}(x)y^{(n-1)} + \dots + a_2(x)y'' + a_1(x)y' + a_0(x)y = F(x)$.  So, as I men­tioned above, we need n lin­ear­ly in­de­pen­dent so­lu­tions to the ho­mo­ge­neous equa­tion $la­tex y^{(n)} + a_{n-1}(x)y^{(n-1)} + \dots + a_2(x)y'' + a_1(x)y' + a_0(x)y = 0$ to use this method.  Let us call those so­lu­tions $la­tex y_1(x), y_2(x), \dot­s, y_n(x)$.  Now let us write our par­tic­u­lar so­lu­tion as $la­tex y_p(x) = c_1(x)y_1(x) + c_2(x)y_2(x) + \dots + c_n(x)y_n(x)$.  Now, if we sub­sti­tute our par­tic­u­lar so­lu­tion in to the left hand side of our ODE, we should get $la­tex F(x)$ back.  So we have $la­tex (y_p)^{(n)} + a_{n-1}(x)(y_p)^{(n-1)} + \dots + a_2(x)y_p'' + a_1(x)y_p' + a_0(x)y_p =$ $la­tex F(x)$.  Now, let me re­write $la­tex y_p$ as a sum­ma­tion to help keep things from get­ting too messy.  I am al­so go­ing to write $la­tex c_i$ in­stead of $la­tex c_i(x)$ on terms for ad­di­tion­al san­i­ty.  Ev­ery vari­able is a func­tion of x.  $la­tex y_p(x) = \sum_{i=1}^{n} c_i y_i$.  The par­tic­u­lar so­lu­tion should sat­is­fy the con­di­tion of the ODE, so</p> 
 <p>$la­tex y_p^{(n)} + a_{n-1}y_p^{(n-1)} + \dots + a_2y_p'' + a_1y_p' + a_0y_p = F(x)$.</p> 
 <p>$la­tex (\­sum_{i=1}^{n} c_i y_i)^{(n)} + a_{n-1}(\­sum_{i=1}^{n} c_i y_i)^{(n-1)} + \dots + a_2(\­sum_{i=1}^{n} c_i y_i)^{(2)} + $</p> 
 <p>$la­tex a_1(\­sum_{i=1}^{n} c_i y_i)^{(1)} + a_0\­sum_{i=1}^{n} c_i y_i = F(x)$.</p> 
 <p>Now, if we ap­ply the prod­uct rule to this, things will get ug­ly re­al­ly fast, be­cause we have to ap­ply the prod­uct rule on each term as many times as the or­der of that term (the first term would have to be ap­plied n times, the sec­ond, n-1 times, and so on).  But there is a trick that we can use.  In the ho­mo­ge­neous case, there is no par­tic­u­lar so­lu­tion, so in that case the $la­tex c_i$ terms must all van­ish iden­ti­cal­ly be­cause the so­lu­tions are lin­ear­ly in­de­pen­dent of one an­oth­er.  Thus, if we plug the par­tic­u­lar so­lu­tion in­to the ho­mo­ge­neous case, we get</p> 
 <p>$la­tex (\­sum_{i=1}^{n} c_i y_i)^{(n)} + a_{n-1}(\­sum_{i=1}^{n} c_i y_i)^{(n-1)} + \dots + a_2(\­sum_{i=1}^{n} c_i y_i)^{(2)} + $</p> 
 <p>$la­tex a_1(\­sum_{i=1}^{n} c_i y_i)^{(1)} + a_0\­sum_{i=1}^{n} c_i y_i = 0$.</p> 
 <p>We al­ready know that if we plug the $la­tex y_i$ terms in in­di­vid­u­al­ly of the $la­tex c_i$ terms, that the ex­pres­sion will van­ish iden­ti­cal­ly be­cause the $la­tex y_i$ terms are so­lu­tions to the ho­mo­ge­neous equa­tion.  The prod­uct rule on each term will be eval­u­at­ed ac­cord­ing to the  <a href="http://en.wikipedia.org/wiki/Leibniz_rule_(generalized_product_rule)">Leib­niz Rule</a>, which is that $la­tex (c_i \c­dot f_i)^{(n)}=\­sum_{k=0}^n {n \choose k} c_i^{(k)} y_i(x)^{(n-k)}$.  Now the $la­tex c_i y_i^{(n)}$ terms will van­ish be­cause we can fac­tor out a $la­tex c_i$ and they will be ex­act­ly the ho­mo­ge­neous so­lu­tion.  Be­cause the ex­pres­sion is iden­ti­cal­ly equal to ze­ro, the re­main­ing terms must van­ish as well.  If we as­sume that each $la­tex \sum_{i=1}^n c_i' y_i^{(j)}=0$ for each j from 0 to n-2, then this will take care of this; the terms with high­er de­riv­a­tives on $la­tex c_i$ will al­so be 0, if this is true, then we do not need them for our deriva­tion.  In oth­er word­s,  </p> 
 <p>$la­tex  c_1' y_1  + c_2' y_2 + \c­dots + c_n' y_n = 0 $</p> 
 <p>$la­tex c_n' y_1' + c_n' y_2' + \c­dots + c_n' y_n' = 0 $</p> 
 <p>$la­tex \v­dots $</p> 
 <p>$la­tex c_n' y_1^{(n-2)} + c_n' y_2^{(n-2)} + \c­dots + c_n' y_n^{(n-2)} = 0$.</p> 
 <p>So, turn­ing back to our orig­i­nal ODE with the par­tic­u­lar so­lu­tion sub­sti­tut­ed in, we have</p> 
 <p>$la­tex (\­sum_{i=1}^{n} c_i y_i)^{(n)} + a_{n-1}(\­sum_{i=1}^{n} c_i y_i)^{(n-1)} + \dots + a_2(\­sum_{i=1}^{n} c_i y_i)^{(2)} + $</p> 
 <p>$la­tex a_1(\­sum_{i=1}^{n} c_i y_i)^{(1)} + a_0\­sum_{i=1}^{n} c_i y_i = F(x)$.</p> 
 <p>But we know that most of the terms of this will van­ish, from our as­sump­tion above.  If we re­move those terms, what re­mains is $la­tex \sum_{i=1}^{n} c_i' y_i^{(n-1)} = F(x)$.  So this is where it is nice that I learned  <a href="http://en.wikipedia.org/wiki/Cramer%27s_rule">Cramer's Rule</a>  lit­er­al­ly days be­fore learn­ing how to do Vari­a­tion of Pa­ram­e­ters in the gen­er­al case.  We have a sys­tem of n equa­tions (the n-1 from above, plus the one we just de­rived), of n un­knowns (the $la­tex c_i$ terms).  The de­ter­mi­nant that we use here is used of­ten enough to war­rant a name: the  <a href="http://en.wikipedia.org/wiki/Wronskian">Wron­skian</a>.  We have that $la­tex c_i' = \frac{W_i(x)}{W(x)}$, or $la­tex c_i = \int \frac{W_i(x)}{W(x)}$, where $la­tex W_i(x)$ is the Wron­skian of the fun­da­men­tal sys­tem with the ith col­umn re­placed with $la­tex \be­gin{b­ma­trix} 0 \ 0 \ \v­dots \ 0 \ F(x) \end{b­ma­trix}$.  So we fi­nal­ly have $la­tex y_p = \sum_{i=1}^n \int \frac{W_i(x)}{W(x)} y_i$.   </p> 
 <p>Well, that's the the­o­ry, but as al­ways here, that is on­ly half of the sto­ry.  A Wron­skian func­tion is al­ready im­ple­ment­ed in SymPy, and find­ing $la­tex W_i(x)$ sim­ply amounts to $la­tex F(x)$ times the Wron­skian of the sys­tem with­out the ith equa­tion, all times $la­tex (-1)^i$.  So im­ple­ment­ing it was easy enough.  But it soon be­came clear that there would be some prob­lems with this method.  Some­times, the SymPy would re­turn a re­al­ly sim­ple Wron­skian, some­thing like $la­tex -4e^{2x}$, but oth­er times, it would re­turn some­thing crazy.  For ex­am­ple, con­sid­er the ex­pres­sion that I re­port­ed in  <a href="http://code.google.com/p/sympy/issues/detail?id=1562">SymPy is­sue 1562</a>.  The ex­pres­sion is (thanks to SymPy's  <code>la­tex()</code>  com­mand, no thanks to Word­Press's stupid au­to line breaks that have forced me to up­load my own im­age.  If it was­n't such a pain, I would do it for ev­ery equa­tion, be­cause it looks much nicer.):</p> 
 <p><img src="2009/08/crazy-trig-wronskian-sympy.png" alt="Crazy Trig Wronskian (SymPy)" title="Crazy Trig Wronskian (SymPy)" width="450" height="78" class="alignnone size-full wp-image-240">.</p> 
 <p>This is the Wron­skian, as cal­cu­lat­ed by SymPy's  <code>wron­skian()</code>  func­tion, of  </p> 
 <p>$la­tex \be­gin{b­ma­trix}x \s­in{x}, &amp; \s­in{x}, &amp; 1, &amp; x \cos{x}, &amp; \cos{x}\end{b­ma­trix}$, which is the set of lin­ear­ly in­de­pen­dent so­lu­tions to the ODE $la­tex {\frac {d^{5}}{d{x}^{5}}}f \left( x \right) +2\,{\frac {d^{3}}{d{x}^{3}}}f \left( x \right) +{\frac {d}{dx}}f \left( x \right) -1$.  Well, the prob­lem here is that, as ver­i­fied by Maple, that com­plex Wron­skian above is iden­ti­cal­ly equal to $la­tex -4$.  SymPy's  <code>sim­pli­fy()</code>  and  <code>trigsim­p()</code>  func­tions are not ad­vanced enough to han­dle it.  It turns out that in this case, the prob­lem is that SymPy's  <code>can­cel()</code>  and  <code>fac­tor()</code>  rou­tines do not work un­less the ex­pres­sion has on­ly sym­bols in it, and that ex­pres­sion re­quires you to can­cel and fac­tor to find the $la­tex \cos^2{x} + \s­in^2{x}$ (see the is­sue page for more in­for­ma­tion on this).  Un­for­tu­nate­ly, SymPy's  <code>in­te­grate()</code>  can­not han­dle that un­sim­pli­fied ex­pres­sion in the de­nom­i­na­tor of some­thing, as you could imag­ine, and it seems like al­most ev­ery time that sin's and cos's are part of the so­lu­tion to the ho­mo­ge­neous equa­tion, the Wron­skian be­comes too dif­fi­cult for SymPy to sim­pli­fy.  So, while I was hop­ing to slip along with on­ly vari­a­tion of pa­ram­e­ter­s, which tech­ni­cal­ly solves ev­ery lin­ear in­ho­mo­ge­neous ODE, it looks like I am go­ing to have to im­ple­ment the method of un­de­ter­mined co­ef­fi­cients.  Vari­a­tion of pa­ram­e­ters will still be use­ful, as un­de­ter­mined co­ef­fi­cients on­ly works if the ex­pres­sion on the right hand side of the equa­tion, $la­tex F(x)$ has a fi­nite set of lin­ear­ly in­de­pen­dent de­riv­a­tives (such as sin, cos, ex­p, poly­no­mi­al terms, and com­bi­na­tions of them (I'll talk more about this when­ev­er I im­ple­ment it).   </p> 
 <p>The good news here is that I dis­cov­ered that I was wrong.  I had pre­vi­ous­ly be­lieved that among the sec­ond or­der spe­cial cas­es were cas­es that could on­ly be han­dled by vari­a­tion of pa­ram­e­ters or un­de­ter­mined co­ef­fi­cients, but it turns out I was wrong.  All that was im­ple­ment­ed were the ho­mo­ge­neous cas­es for sec­ond or­der lin­ear with con­stant co­ef­fi­cients.  In ad­di­tion to this, there was one very spe­cial case ODE that On­drej had im­ple­ment­ed for an ex­am­ple (ex­am­ples/ad­vanced/rel­a­tiv­i­ty.py).  The ODE is</p> 
 <p>$la­tex -2({\frac{d}{dx}}f(x)){e^{-f(x)}}+x({\frac{d}{dx}}f(x))^{2}{e^{-f(x)}}-x({\frac{d^{2}}{d{x}^{2}}}f(x)){e^{-f(x)}}$, which is the sec­ond de­riv­a­tive of $la­tex xe^{-f(x)}$ with re­spect to x.  Ac­cord­ing to the ex­am­ple file, it is know as Ein­stein's equa­tion­s.  Maple has a nice  <code>odead­vi­sor()</code>  func­tion sim­i­lar to the  <code>clas­si­fy_ode()</code>  func­tion I am writ­ing for SymPy that tells you all of the dif­fer­ent ways that an ODE can be solved. So, I plugged that ODE in­to it and got a few pos­si­ble meth­ods out that I could po­ten­tial­ly im­ple­ment in SymPy to main­tain com­pat­i­bil­i­ty with the ex­am­ple equa­tion.  The chief one is that the low­est or­der of f in the ODE is 1 (as­sum­ing you di­vide out the $la­tex e^{-f(x)}$ ter­m, which is per­fect­ly rea­son­able as that term will nev­er be 0. You can then make the sub­sti­tu­tion $la­tex u = f'(x)$, and you will re­duce the or­der of the ODE to first or­der, which in this case would be a Bernoul­li equa­tion, the first thing that I ev­er im­ple­ment­ed in SymPy.   </p> 
 <p>But I did­n't do that.  Re­duc­tion of or­der meth­ods would be great to have for  <code>dsolve()</code>, but that is a project for an­oth­er sum­mer.  Aside from that method, Maple's  <code>odead­vi­sor()</code>  al­so told me that it was a Li­ou­ville ODE.  I had nev­er heard of that method, and nei­ther it seems has Wikipedia or "Un­cle Google" (as On­drej calls it).  For­tu­nate­ly, Maple's Doc­u­men­ta­tion has a nice page for each type of ODE re­turned by  <code>odead­vi­sor()</code>, so I was able to learn the method. The method re­lies on Lie Sym­me­tries and ex­act sec­ond or­der equa­tion­s, nei­ther of which I am ac­tu­al­ly fa­mil­iar with, so I will not at­tempt to prove any­thing here.  Suf­fice it to say that if an ODE has the form  </p> 
 <p>$la­tex {\frac{d^{2}}{d{x}^{2}}}y(x)+g(y(x))({\frac{d}{dx}}y(x))^{2}+f(x){\frac{d}{dx}}y(x)=0$, then the so­lu­tion to the ODE is</p> 
 <p>$la­tex \in­t^{y(x)}{e^{\int g(a){­da}}}{­da}+C1\in­t{e^{-\int f(x){dx}}}{dx}+C2=0$</p> 
 <p>You could prob­a­bly ver­i­fy this by sub­sti­tut­ing the so­lu­tion in­to the orig­i­nal ODE.  See the  <a href="http://www.maplesoft.com/support/help/view.aspx?path=odeadvisor/Liouville">Maple Doc­u­men­ta­tion page on Li­ou­ville ODEs</a>, as well as the  <a href="http://eric.ed.gov:80/ERICWebPortal/custom/portlets/recordDetails/detailmini.jsp?_nfpb=true&amp;_&amp;ERICExtSearch_SearchValue_0=ED089982&amp;ERICExtSearch_SearchType_0=no&amp;accno=ED089982">pa­per they ref­er­ence</a>  (Gold­stein and Braun, "Ad­vanced Meth­ods for the So­lu­tion of Dif­fer­en­tial Equa­tion­s", see pg. 98).   </p> 
 <p>The so­lu­tion is very straight for­ward--as much so as first or­der lin­ear or Bernoul­li equa­tion­s, so it was a cinch to im­ple­ment it.  It looks like quite a few dif­fer­en­tial equa­tions gen­er­at­ed by do­ing $la­tex F''(y(x), x)$ for some func­tion or x and y $la­tex F(y(x), x)$ gen­er­ates equa­tions of that type, so it could be ac­tu­al­ly use­ful for solv­ing oth­er things.   </p> 
 <p>Be­fore I sign of­f, I just want to men­tion one oth­er thing that I im­ple­ment­ed.  I want­ed my lin­ear ho­mo­ge­neous con­stant co­ef­fi­cient ODE solver to be able to han­dle ODEs for which SymPy can't solve the char­ac­ter­is­tic equa­tion, for what­ev­er rea­son.  SymPy has  <code>RootOf()</code>  ob­jects sim­i­lar to Maple that let you rep­re­sent the roots of a poly­no­mi­al with­out ac­tu­al­ly solv­ing it, or even be­ing able to solve it, but a you can on­ly use RootOf's if you know that none of the roots are re­peat­ed.  Oth­er­wise, you would have to know which terms re­quire an ad­di­tion­al $la­tex x^i$ to pre­serve lin­ear in­de­pen­dence.  Well, it turns out that there is a way to tell if a poly­no­mi­al has re­peat­ed roots with­out solv­ing for them.  There is a num­ber as­so­ci­at­ed with ev­ery poly­no­mi­al of one vari­able called the  <a href="http://en.wikipedia.org/wiki/Discriminant">dis­crim­i­nant</a>.  For ex­am­ple, the dis­crim­i­nant of the com­mon qua­drat­ic poly­no­mi­al $la­tex ax^2 + bx + c$ is the term un­der the square root of the fa­mous so­lu­tion $la­tex b^2 - 4ac$.  It is clear that a qua­drat­ic has re­peat­ed roots if and on­ly if the dis­crim­i­nant is 0.  Well, the same is true for the dis­crim­i­nant of any poly­no­mi­al.  I am not high­ly fa­mil­iar with this (ask me again af­ter I have tak­en my ab­stract al­ge­bra class next semester), but ap­par­ent­ly there is some­thing called the re­sul­tan­t, which is the prod­uct of the dif­fer­ences of roots be­tween two poly­no­mi­als and which can al­so be cal­cu­lat­ed with­out ex­plic­it­ly find­ing the roots of the poly­no­mi­al­s.  Clear­ly, this will be 0 if and on­ly if the two poly­no­mi­als share a root.  So the dis­crim­i­nant is built from the fact that a poly­no­mi­al has a re­peat­ed root iff it shares a root with its re­sul­tan­t.  So it is ba­si­cal­ly the re­sul­tant of a poly­no­mi­al and its de­r­a­ti­vave, times an ex­tra fac­tor.  It is 0 if and on­ly if the poly­no­mi­al has a re­peat­ed root.   </p> 
 <p>For­tu­nate­ly, SymPy's ex­ce­lent Polys mod­ule al­ready had re­sul­tants im­ple­ment­ed (quite ef­fi­cient­ly too, I might ad­d), so it was easy to im­ple­ment the dis­crim­i­nan­t.  I added it as  <a href="http://code.google.com/p/sympy/issues/detail?id=1555&amp;q=discriminant">is­sue 1555</a>.  If you are a SymPy de­vel­op­er and you have some­how man­aged to make your­self read this far (b­less your heart), please re­view that patch.   </p> 
 <p>Well, this has turned out to be one hel­la long blog post.  But what can I say.  You don't have to read this thing (ex­cept for pos­si­bly my men­tor.  Sor­ry Andy).  And I haven't been quite up­dat­ing week­ly like I am sup­posed to be, so this com­pen­sates.  If you hap­pened up­on this blog post be­cause, like me, you were look­ing for a gen­er­al treat­ment of vari­a­tion of pa­ram­e­ter­s, I hope you found my lit­tle write up help­ful.  And if you did, and you now un­der­stand it, could you go ahead and im­prove the Wikipedia ar­ti­cle.  I'm not up to it?   </p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/07/20/modifying-a-list-while-looping-through-it-in-python/" class="u-url">Modifying a list while looping through it in Python</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/07/20/modifying-a-list-while-looping-through-it-in-python/" rel="bookmark"><time class="published dt-published" datetime="2009-07-20T06:35:45-05:00" itemprop="datePublished" title="Publication date">2009-07-20 06:35</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/07/20/modifying-a-list-while-looping-through-it-in-python/#disqus_thread" data-disqus-identifier="cache/posts/2009/07/20/modifying-a-list-while-looping-through-it-in-python.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>Here is an in­ter­est­ing thing that I found.   <code>x</code>  is a SymPy Sym­bol­:
 <img src="2009/07/code-block-11.png" alt="Code block 1" title="Code block 1" width="174" height="86" class="alignnone size-full wp-image-207"></p> 
 <p>I would have ex­pect­ed to get  <code>a = []</code>, but it on­ly re­moves the first item.  And yes,  <code>x + 1</code>  pass­es the con­di­tion:</p> 
 <p><code></code></p> 
 <p>&gt;&gt;&gt; (x + 1).has(x)</p> 
 <p>True</p> 
 <p></p> 
 <p>Clear­ly, it is a bad idea to mod­i­fy a list while I am loop­ing through it. I should in­stead be do­ing some­thing like this:</p> 
 <p><img src="2009/07/code-block-2.png" alt="Code block 2" title="Code block 2" width="203" height="111" class="alignnone size-full wp-image-204"></p> 
 <p>But I am in­trigued as to why ex­act­ly this fail­s.  If any of the read­ers of the blog thinks that he know, please post in the com­ments.  Or, if I fig­ure it out, I will post an up­date.  Al­so, here is a sim­i­lar ex­am­ple, with a strange re­sult:</p> 
 <p><img src="2009/07/code-block-3.png" alt="Code block 3" title="Code block 3" width="167" height="75" class="alignnone size-full wp-image-205"></p> 
 <p>(Sor­ry for the im­ages by the way.  Word­Press's so called "code" blocks are im­per­vi­ous to in­den­ta­tion.)</p> 
 <p>UP­DATE (a few min­utes lat­er):</p> 
 <p>Well, I fig­ured it would come to me as to why this was hap­pen­ing, and it did­n't take long.  While I haven't read the ac­tu­al  <a href="http://docs.python.org/reference/index.html#reference-index">Python Lan­guage Ref­er­ence</a>, this is what I am as­sum­ing is hap­pen­ing.  This is all just my guess­ing on how Python is im­ple­ment­ed.  Please cor­rect me if I am wrong.</p> 
 <p>So, ob­vi­ous­ly, a Python list is just a C ar­ray.  It is prob­a­bly an ar­ray of point­er­s, which is the on­ly way I can see that would let it be mu­ta­ble with dif­fer­ent ob­jects (this is how com­piled lan­guages with dy­nam­ic typ­ing like  <a href="http://en.wikipedia.org/wiki/Objective_c">Ob­jec­tive-C</a>  more or less pull it of­f).  Now C does not have the  <code>for i in list</code>  syn­tax that Python has (nor does any oth­er lan­guage that I know of.  That is one of the rea­sons that Python is so awe­some!), so if you want to re­curse a list (C ar­ray), you have to do the usu­al  <code>for (i=0; i&lt;=len(list); i++) {</code>  from C (or it prob­a­bly us­es a while loop, which would al­low for things like it­er­a­tors, but a for loop in C is lit­er­al­ly just a wrap­per around a while loop any­way).  Then of course, in­side of the loop, you just have  <code>list[i]</code>  block­s.  So when I was go­ing through my list, for ex­am­ple, the list of num­bers in the last ex­am­ple, it would hit item 0 (the first item), re­move it, which would amount to re­build­ing the list as  <code>[2, 3, 4, 5]</code>, then it would hit item 1, which is now 3, re­move it, re­build­ing the list, and so on.  So the even num­bered el­e­ments re­main be­cause it skips ev­ery el­e­ment af­ter one that it re­moves. CPython must have good er­ror han­dling, be­cause even­tu­al­ly this would cause the in­dices to go be­yond the length of the list.  It seems to me that this be­hav­ior is not very well de­fined.  Per­son­al­ly, I think that what­ev­er you are loop­ing through in a for loop should be­come im­mutable with­in the loop block.  I checked Python 3.1, and the be­hav­ior is ex­act­ly the same.</p> 
 <p>Based on this,  <code>.re­move()</code>  re­builds the list each time.  I would have thought it would just set the val­ue in the ar­ray to Nul­l, but I guess that would make it more dif­fi­cult to test equal­i­ty with an equiv­a­lent list that does­n't have Null val­ues.  It is good to know that  <code>.re­move()</code>  does that, be­cause it means that can be an ex­pen­sive op­er­a­tion.   </p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/07/16/constant-stuff/" class="u-url">Constant stuff</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/07/16/constant-stuff/" rel="bookmark"><time class="published dt-published" datetime="2009-07-16T05:06:17-05:00" itemprop="datePublished" title="Publication date">2009-07-16 05:06</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/07/16/constant-stuff/#disqus_thread" data-disqus-identifier="cache/posts/2009/07/16/constant-stuff.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>So I was able to get a work­ing ver­sion of the Con­stant class, but be­cause the code clut­tered up the in­ter­nal Add and Mul class­es too much, On­drej con­vinced me that to make a func­tion that does the sim­pli­fi­ca­tion in­stead, and I re­luc­tant­ly agreed.  Af­ter be­gin­ing work on it, I re­al­ized that it will be much eas­i­er to make it just an in­ter­nal func­tion that han­dles the spe­cial cas­es pre­sent­ed by  <code>dsolve()</code>.  That means that it will on­ly han­dle ar­bi­trary con­stants that are in­de­pen­dent of one vari­able, and it will on­ly work with con­stants that are named as "C1", "C2", and so on.   </p> 
 <p>If we ev­er get the sympyx core that On­drej and I worked on when I was in Los Alam­os in, it will be easy for my to use a Con­stant class, be­cause it will have han­dler log­ic that will al­low for the Con­stant class to ex­ist in­de­pen­dent of Add and Mul. It al­ready can ex­ist in­de­pen­dent of Pow with a mi­nor code ad­di­tion, but sim­pli­fy­ing pow­ers is eas­i­er than sim­pli­fy­ing ad­di­tion and mul­ti­plca­tion be­cause ex­po­nen­ti­a­tion is nei­ther com­mu­ta­tive nor as­so­cia­tive, mean­ing that you don't have to wor­ry about ab­sorb­ing stuff on the oth­er side of some­thing, like  <code>2 + x + C</code>.   </p> 
 <p>See my  <a href="http://github.com/asmeurer/sympy/tree/constant-Mul">con­stan­t-­Mu</a>l branch for my work­ing ver­sion of a Con­stant class the im­ple­ments in Mul and Ad­d.  See my  <a href="http://github.com/asmeurer/sympy/tree/constant-function">con­stan­t-­func­tion</a>  branch for my work on the in­ter­nal func­tion.</p> 
 <p>Be­cause I have de­cid­ed to make thing sim­ple and make the func­tion in­ter­nal on­ly, I should have things up and run­ning soon.  Then, it will be sim­ple to fix up my nth or­der ho­mo­ge­neous stuff that I al­ready have so that it work­s, and then to im­ple­ment vari­a­tion of pa­ram­e­ter­s!</p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/07/13/meeting-ondrej-in-los-alamos/" class="u-url">Meeting Ondrej in Los Alamos</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/07/13/meeting-ondrej-in-los-alamos/" rel="bookmark"><time class="published dt-published" datetime="2009-07-13T02:22:14-05:00" itemprop="datePublished" title="Publication date">2009-07-13 02:22</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/07/13/meeting-ondrej-in-los-alamos/#disqus_thread" data-disqus-identifier="cache/posts/2009/07/13/meeting-ondrej-in-los-alamos.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>So On­drej was kind enough to have me over to his house in Los Alam­os for Fri­day and Sat­ur­day.  We spent a lot of time cod­ing to­geth­er.  While we worked on some oth­er things too, we main­ly worked on my con­stant class.  On­drej and I came up with an idea for re­struc­tured Mul and Add class­es that would al­low dif­fer­ent ob­jects in them to han­dle the oth­er ob­jects in them.  The way it is now, if I want my Con­stant ob­ject to ab­sorb oth­er ob­ject­s, like  <code>2<em>a</em>C<em>x =&gt; C</em>x</code>, I have to hard­code it in­to Mul.  The same is true with Ad­d.  This makes the Mul and Add class­es mud­dy.  Right now, there is al­ready spe­cial han­dling for oth­er such dy­nam­ic ob­jects such as Or­der class­es (e.g.,  <code>O(x)</code>), and In­fin­i­ty class.  See the  <code>Ad­d.flat­ten()</code>  and  <code>Mul.flat­ten()</code>  meth­ods in sympy/­core/ad­d.py and sympy.­core/­mul.py to see what I mean.   </p> 
 <p>We came up with a sys­tem where sym­bols and num­bers are han­dled the same way, be­cause we need them to be fast, but if an ex­pres­sion has an ob­ject that has a  <code>han­dle_­mul()</code>  method, it will call that method with the oth­er ob­jects in the ex­pres­sion in the Mul/Add and the ob­ject will take care of the spe­cial han­dling.  On­drej was able to get most of it work­ing in his ex­per­i­men­tal core that does­n't use as­sump­tions  <a href="//github.com/certik/sympyx.git">here</a>.  We will hope­ful­ly end up us­ing it, but we need to wait un­til we merge the new as­sump­tions sys­tem.  </p> 
 <p>So in the mean while, I have a work­ing Con­stant class that mod­i­fies Mul and Add  <a href="http://github.com/asmeurer/sympy/tree/constant-Mul">here</a>.  Since it will take a while un­til the new as­sump­tions sys­tem is done (<a href="http://fseoane.net/blog/">Fabi­an Seoane</a>  is do­ing it for his Google Sum­mer of Code pro­jec­t), we may end up tem­po­rar­ily adding in my Con­stant branch.  Once I have a work­ing Con­stant class, I can solve  <a href="http://en.wikipedia.org/wiki/Linear_differential_equation#Homogeneous_linear_differential_equation_with_constant_coefficients">ho­mo­ge­neous dif­fer­en­tial equa­tions</a>  (not to be con­fused with  <a href="http://asmeurersympy.wordpress.com/2009/05/31/first-order-differential-equations-with-homogeneous-coefficients/">first or­der dif­fer­en­tial equa­tions with ho­mo­ge­neous co­ef­fi­cients</a>)  with one case (there are sev­er­al cas­es de­pend­ing on whether the roots of the so called char­ac­ter­is­tic equa­tion are re­al, imag­i­nary, or com­plex, but we can ac­tu­al­ly han­dle them in one case if we have con­stants that com­bine in­to each oth­er.  More on this in a lat­er post).  Once I have that (which I have ev­ery­thing al­ready ex­cept for the ar­bi­trary con­stants), I can then im­ple­ment  <a href="http://en.wikipedia.org/wiki/Variation_of_parameters">vari­a­tion of pa­ram­e­ters</a>, which, along with sep­a­ra­ble, will prob­a­bly be the most used solver of the ones that I will im­ple­ment this sum­mer.   </p> 
 <p>Once I get those, I can clean up a lot of the 2nd or­der dif­fer­en­tial equa­tion code in dsolve (cur­rent­ly it is just a hack with a bunch of spe­cial cas­es all cov­ered by vari­a­tion of pa­ram­e­ter­s).  With that code cleaned up, I can refac­tor dsolve to use my pro­posed hints en­gine, which will al­low the us­er to choose which meth­ods they want to use to solve an equa­tion (more on that in a lat­er post too).   </p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/07/06/update/" class="u-url">Update</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/07/06/update/" rel="bookmark"><time class="published dt-published" datetime="2009-07-06T18:12:26-05:00" itemprop="datePublished" title="Publication date">2009-07-06 18:12</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/07/06/update/#disqus_thread" data-disqus-identifier="cache/posts/2009/07/06/update.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>It's been a while since I've post­ed here, so I fig­ured an up­date was in or­der.  Here is a list of stuff that I have done since my last post.</p> 
 <ul>
<li> 
 <p>I re­­cov­­ered my da­­ta from my Ter­mi­­nal his­­to­ry.  This was­n't too dif­­fi­cult as I pre­­dic­t­ed.  I just had to do some mi­nor for­­mat­t­ing on the   <code>git com­mit --in­ter­ac­­tive</code>   da­­ta to make it a valid git patch file.  For what­ev­er rea­­son, a hand­­ful of the changes would­n't ap­­ply be­­cause git could­n't find where changed lines were, even though they were iden­ti­­cal to what was in the patch.    <code>git ap­­ply</code>   does­n't seem to have a merge op­­tion, but even­­tu­al­­ly I found the   <code>--re­­ject</code>   op­­tion, which puts failed patch­es in .rej files, in­­stead of just fail­ing the whole ap­­ply.</p>  
  </li> 
 <li> 
 <p>I got sep­a­ra­ble equa­­tions im­­ple­­men­t­ed in dsolve.  I ac­­tu­al­­ly did this on the road be­­fore I lost my data, but I failed to men­­tion it be­­fore, so here it is.  The hard­est part with that was cre­at­ing a de­­cent   <code>sep­a­rat­e­­vars()</code>   func­­tion that could sep­a­rate just about any fun­ci­­ton. As I men­­tioned in an   <a href="http://asmeurersympy.wordpress.com/2009/06/21/refactoring-expand/">ear­li­er post</a>, this in­­­volved chang­ing the way that SymPy han­­dles au­­to­­mat­ic com­bin­ing of ex­po­­nents in the core, as well as refac­­tor­ing ex­­pand. I al­­so had to make the func­­tion com­­plete­­ly in­­de­pen­­dent of   <code>match</code>, be­­cause   <code>match</code>   is too bug­­gy to work cor­rec­t­­ly for sep­a­ra­ble equa­­tion­s.    </p>  
  </li> 
 <li> 
 <p>Speak­ing of refac­­tor­ing   <code>ex­­pand</code>   and com­bin­ing ex­po­­nents, that work made it in!  It is the first ma­jor thing that I have done that has ac­­tu­al­­ly made it in­­­to the main SymPy re­po.  It got in just be­­fore the re­lease of SymPy 0.6.5-­be­­ta2, so it should be in the fi­­nal re­lease of SymPy 0.6.5.  Most like­­ly, none of my ODE stuff will make it in un­til 0.7.    </p>  
  </li> 
 <li> 
 <p>I start­ed to work on   <a href="http://en.wikipedia.org/wiki/Variation_of_parameters">Var­i­a­­tion of Pa­ram­e­ters</a>, but be­­fore I could ac­­tu­al­­ly get to the var­i­a­­tion of pa­ram­e­ters part, I need­ed to be able to solve a ho­­mo­ge­­neous equa­­tion $la­­tex a_ny^{(n)}+a_{n-1}y^{(n-1)}+\­­dot­s+a_1y'+a_0y=0$ ($la­­tex a_i$ con­s­tant for all $la­­tex i$).  If you know how that work­s, it in­­­volves find­­ing the roots of the poly­no­mi­al giv­en by $la­­tex a_n­r^n+a_{n-1}r^{n-1}+\­­dot­s+a_1r+a_0=0$.  De­pend­ing on whether these roots are re­al, imag­i­­nary, or com­­plex, you have dif­fer­­ent so­lu­­tions with ex­po­­nen­­tials or sin's and cos's.  I had no trou­ble get­t­ing the ex­po­­nen­­tials and the sin's and cos's to work cor­rec­t­­ly (SymPy al­ready has a root find­­er that I put to work), but I did have a prob­lem get­t­ing the ar­bi­­trary con­s­tants to work cor­rec­­ty.  It turns out that the code for that would be much sim­­pler if I had an ar­bi­­trary con­s­tant type that au­­to­­mat­i­­cal­­ly "ab­­sorbed" oth­­er con­s­tants.  Since I had planned on do­ing that any­way, I de­­cid­ed to put the rest of var­i­a­­tion of pa­ram­e­ters on hold and be­­gin work on that.</p>  
  </li> 
 <li> 
 <p>We had a Doc­u­­men­­ta­­tion day on June 30, and I de­­cid­ed to write up a doc­u­­ment that would help peo­­ple new to SymPy and Python with some of the gotchas and pit­­fal­l­s.  For ex­am­­ple, un­­like most oth­­er in­­de­pen­­dent CAS's like Maple, you can't just type   <code>1/2</code>   in SymPy to get $la­­tex \frac{1}{2}$.  That is be­­cause Python eval­u­ates it nu­mer­i­­cal­­ly.  You have to do   <code>S(1)/2</code>   or   <code>Ra­­tio­­nal(1,2)</code>   to get the Ra­­tio­­nal class.  It's all things like that.  It's tak­en me a while to get it to­geth­­er, not be­­cause it took me long to write it, but be­­cause it has to be in the Sphinx doc­u­­men­­ta­­tion for­­mat, which I have had to learn.  I am just fin­ish­ing it up now.</p>  
  </li> 
 <li> 
 <p>I met with On­­drej on Sat­ur­­day.  He went down from Los Alam­os to Carl­s­bad with a friend to see the cav­ern­s, and they stopped here in Al­bu­­querque on the way back up.  He came just in time to see the fire­­work­s, and af­ter that got some din­n­er.  We weren't able to do any cod­ing, but hope­­ful­­ly we will be able to meet up again lat­er this sum­mer to do some of that.</p>  
  </li> 
 </ul>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/06/22/how-to-permanently-lose-data-with-git-and-then-retrieve-it-again/" class="u-url">How to permanently lose data with git (and then retrieve it again)</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/06/22/how-to-permanently-lose-data-with-git-and-then-retrieve-it-again/" rel="bookmark"><time class="published dt-published" datetime="2009-06-22T05:16:23-05:00" itemprop="datePublished" title="Publication date">2009-06-22 05:16</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/06/22/how-to-permanently-lose-data-with-git-and-then-retrieve-it-again/#disqus_thread" data-disqus-identifier="cache/posts/2009/06/22/how-to-permanently-lose-data-with-git-and-then-retrieve-it-again.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>So I pushed some changes to github so On­drej could help me de­bug the nseries test­s, when I no­ticed that the changes that I pushed had some bad com­ments.  So I de­cid­ed to re­base.  But git re­base -i told me that there was al­ready a re­base in progress.  I fig­ured that I must have done it a long time ago and for­got to abort, so I ran git re­base --abort.   </p> 
 <p>DON'T DO THAT.</p> 
 <p>I no­ticed my ed­i­tor was telling me that an open file had changed.  Then, I no­ticed that ALL of my un­com­mit­ed changes were gone!  And, be­ing un­com­mit­ed changes, git did not have them saved any­where!</p> 
 <p>So now I start­ed to pan­ic.  I had done a lot of work on dsolve that I had­n't com­mit­ed yet. Nor­mal­ly, I have hourly back­ups run by  <a href="http://www.apple.com/macosx/features/timemachine.html">Time Ma­chine</a>, but I am on va­ca­tion and my back­up drive is at home.  So I start­ed to see if I could re­trieve it some­where.  grep quick­ly told me that it was­n't in the hid­den git di­rec­to­ry, but it was still in my .pyc files.  But a Google search told me that re­triev­ing from that is not so easy, if not im­pos­si­ble with Python 2.6.  So then, I de­cid­ed to see if there was any lin­ger­ing stuff in my vir­tu­al mem­o­ry from my ed­i­tor.  So I ran grep on my hard­drive and wait­ed.   </p> 
 <p>While I was wait­ing, though, I no­ticed when I scrolled up in my com­mand his­to­ry that my lost changes were in my Ter­mi­nal.  It turns out that I had just run git com­mit --in­ter­ac­tive and had used * on my patch­es, so it gave me ev­ery­thing!   </p> 
 <p>So I copied my Ter­mi­nal his­to­ry and will work on putting ev­ery­thing back to­mor­row.  It should be easy, as­sum­ing that git ap­ply works for the for­mat that git gives in com­mit --in­ter­ac­tive.   </p> 
 <p>So the lessons are: Don't abort a re­base with­out com­mit­ing.  Don't start a re­base and then leave it there.  Look in your Ter­mi­nal his­to­ry if you loose stuff.  And it might be a good idea to make man­u­al back­ups if you are away from your back­up drive for a while.</p> 
 <p>This al­so high­lights why it is im­por­tant to try to re­cov­er da­ta im­me­di­ate­ly af­ter re­al­iz­ing that it is gone.  If I had closed my Ter­mi­nal ses­sion or filled it past the max­i­mum num­ber of lines, my da­ta would be gone.  Even if it were in my vir­tu­al mem­o­ry, that would­n't last for­ev­er ei­ther.   </p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/06/21/refactoring-expand/" class="u-url">Refactoring Expand</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/06/21/refactoring-expand/" rel="bookmark"><time class="published dt-published" datetime="2009-06-21T04:48:54-05:00" itemprop="datePublished" title="Publication date">2009-06-21 04:48</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/06/21/refactoring-expand/#disqus_thread" data-disqus-identifier="cache/posts/2009/06/21/refactoring-expand.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>So I have spent the past week refac­tor­ing ex­pand so that you can have more con­trol over what ex­pan­sion meth­ods you use.  With the present method, ex­pand takes in hints which de­faults to ba­sic.  ba­sic dis­trib­uted mul­ti­pli­ca­tion over ad­di­tion ($la­tex x(y+z) \rightar­row xy+xz$), ex­pand­ed multi­no­mi­al ex­pres­sions ($la­tex (x+y)^2 \rightar­row x^2+2xy+y^2$), ex­pand­ed log­a­rithms ($la­tex \log{x^2} \rightar­row 2\log{x}$ and $la­tex \log{xy} \rightar­row \log{x}+\log{y}$), and ex­pand­ed pow­ers ($la­tex (xy)^n \rightar­row x^ny^n$ and $la­tex e^{x+y} \rightar­row e^{x}e^{y}$).   </p> 
 <p>If you want­ed to do any of these things, you had to use ex­pand_ba­sic, which did all of them.  Al­so, you had no con­trol on how deep the ex­pan­sion wen­t.  It went all they way down in re­cur­sion, so if you on­ly want­ed, for ex­am­ple, to dis­trib­ute mul­ti­pli­ca­tion  on the top lev­el, it was im­pos­si­ble.   </p> 
 <p>So I de­cid­ed to start and fix  <a href="http://code.google.com/p/sympy/issues/detail?id=1455">is­sue 1455</a>.  I now have a branch ready in my github ac­count (see  <a href="http://github.com/asmeurer/sympy/tree/expand">here</a>).   </p> 
 <p>With my patch, you can now choose to ex­pand us­ing each of the above in­di­vid­u­al­ly with the log, mul, multi­no­mi­al, pow­er_­ex­p, pow­er_base.  In ad­di­tion to this, you al­so now have com­plete con­trol of how deep the ex­pres­sion re­curs­es in the ex­pand.  Pre­vi­ous­ly, you could­n't, for ex­am­ple, ex­pand $la­tex x(y+e^{x(y+z)})$ to $la­tex xy+x­e^{x(y+z)}$. (It would al­so dis­trib­ute the ex­po­nen­t, then ex­pand to $la­tex e^{xy}e^{xz}$).  Now, you can choose to on­ly dis­trib­ute mul­ti­pli­ca­tion over ad­di­tion, and to on­ly do it on the top lev­el.   </p> 
 <p><strong>Au­to­mat­ic ex­pan­sion of ex­po­nents</strong></p> 
 <p>I men­tioned above that ex­pand would ex­pand $la­tex e^{xy+xz}$ to $la­tex e^{xy}e^{xz}$. Ac­tu­al­ly, in the cur­rent ver­sion of SymPy, this would not hap­pen be­cause it au­to­mat­i­cal­ly com­bines ex­po­nents like $la­tex e^{xy}e^{xz}$ to $la­tex e^{xy+xz}$.   </p> 
 <p>I have been work­ing for the past few weeks chang­ing this as per  <a href="http://code.google.com/p/sympy/issues/detail?id=252&amp;q=asmeurer">is­sue 252</a>.   I have been most­ly suc­cess­ful, ex­cept there are two nseries tests that I can­not fig­ure out how to fix.  If you think you know why nseries would fail with­out au­to­mat­ic com­bin­ing of ex­po­nents, please let me know.  The ex­pand branch in my GitHub re­po al­so has the ex­po­nent patch­es in it, if you want to see what I mean.   </p> 
 <p>Be­cause some things, like the gruntz al­go­rith­m, re­ly on au­to­mat­ic com­bin­ing of ex­po­nents, so I had to re­work powsim­p, which com­bined ex­po­nents but al­so com­bined bases ($la­tex x^ay^a$ to $la­tex (xy)^a$) so that it could on­ly com­bine ex­po­nents.  That way, I could use it to get the old be­hav­ior where I need­ed it.  Use  <code>powsim­p(­ex­pr, deep­=True, com­bine='­ex­p')</code>  in my branch to get the old au­to­mat­ic be­hav­ior.   </p> 
 <p><strong>So what does this have to do with ODEs?</strong></p> 
 <p>When I start­ed work­ing on sep­a­ra­ble equa­tion­s, I want­ed to be able to sep­a­rate things like $la­tex e^{x+y}$ in­to $la­tex e^x­e^y$, which is sep­a­ra­ble in $la­tex x$ and $la­tex y$.  So that is why I need­ed to refac­tor ex­pand (I don't, for ex­am­ple, want to change $la­tex x(y+1)$ to $la­tex xy+x$ be­cause the lat­er is not eas­i­ly rec­og­niz­able as sep­a­rate.  Do­ing this or course re­quired that SymPy did­n't au­to­mat­i­cal­ly put back to­geth­er $la­tex e^x­e^y$ in­to $la­tex e^{x+y}$, so I had to fix that is­sue as well.   </p> 
 <p>I am al­most fin­ished im­ple­ment­ing sep­a­ra­ble (there are some match is­sues that I will blog about lat­er when­ev­er I get them straight­ened out­), and the on­ly thing that is hold­ing all of this back is those nseries test­s.  If any­one is fa­mil­iar with how those al­go­rithms work and which parts re­quire au­to­mat­ic com­bin­ing of ex­po­nents, that would be great.   </p>
</div>
    </div>
    </article>
    <article class="h-entry post-text">
    <header>
        <h1 class="p-name entry-title"><a href="posts/2009/06/13/vacation/" class="u-url">Vacation</a></h1>
        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn">Aaron Meurer</span></p>
            <p class="dateline"><a href="posts/2009/06/13/vacation/" rel="bookmark"><time class="published dt-published" datetime="2009-06-13T00:45:44-05:00" itemprop="datePublished" title="Publication date">2009-06-13 00:45</time></a></p>
                <p class="commentline">
        
    <a href="posts/2009/06/13/vacation/#disqus_thread" data-disqus-identifier="cache/posts/2009/06/13/vacation.html">Comments</a>


        </p>
</div>
    </header>
    <div class="e-content entry-content">
    <div>
<p></p>
<p>I am on va­ca­tion now.  I am vis­it­ing the Grand Canyon, Hoover Dam, Yel­low­stone, and oth­er places.  I will be able to do some cod­ing on the road, but not as much as when I am home.  The va­ca­tion will last about a week.  Hope­ful­ly I will be able to get a blog post about what I have been do­ing in SymPy writ­ten up in the next few days.  </p>
</div>
    </div>
    </article>
</div>

        <nav class="postindexpager">
        <ul class="pager">
            <li class="previous">
                <a href="index-3.html" rel="prev">Newer posts</a>
            </li>
            <li class="next">
                <a href="index-1.html" rel="next">Older posts</a>
            </li>
        </ul>
        </nav>


        
       <script>var disqus_shortname="asmeurer";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>



        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}});</script>
        <script src="assets/js/mathjax.js"></script>


        </div>
        <!--End of body content-->

        <footer>
            Contents © 2014         <a href="mailto:asmeurer@gmail.com">Aaron Meurer</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
<p xmlns:dct="http://purl.org/dc/terms/" xmlns:vcard="http://www.w3.org/2001/vcard-rdf/3.0#">
  <a rel="license" href="http://creativecommons.org/publicdomain/zero/1.0/">
    <img src="http://i.creativecommons.org/p/zero/1.0/88x31.png" style="border-style: none;" alt="CC0">
  </a>

        </p></footer>
    </div>
</div>


            <script src="assets/js/all-nocdn.js"></script>
    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul>
<li>
<a class="addthis_button_facebook"></a>
</li>
<li>
<a class="addthis_button_google_plusone_share"></a>
</li>
<li>
<a class="addthis_button_linkedin"></a>
</li>
<li>
<a class="addthis_button_twitter"></a>
</li>
</ul>
</div>
<script src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script>jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
    

<script type="text/javascript" src="assets/js/tipuesearch_set.js"></script>
<script type="text/javascript" src="assets/js/tipuesearch.js"></script>
<script type="text/javascript">
$(document).ready(function() {
    $('#tipue_search_input').tipuesearch({
        'mode': 'json',
        'contentLocation': '/assets/js/tipuesearch_content.json',
        'showUrl': false
    });
});
</script>


</body>
</html>
