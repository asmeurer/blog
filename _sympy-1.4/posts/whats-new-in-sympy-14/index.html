<!DOCTYPE html>
<html prefix="        og: http://ogp.me/ns# article: http://ogp.me/ns/article#     " vocab="http://ogp.me/ns" lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width">
<title>What's New in SymPy 1.4 | Aaron Meurer's Blog</title>
<link href="../../assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/ipython.min.css" rel="stylesheet" type="text/css">
<link href="../../assets/css/nikola_ipython.css" rel="stylesheet" type="text/css">
<meta name="theme-color" content="#5670d4">
<meta name="generator" content="Nikola (getnikola.com)">
<link rel="alternate" type="application/rss+xml" title="RSS" hreflang="en" href="../../rss.xml">
<link rel="canonical" href="https://asmeurer.com/blog/posts/whats-new-in-sympy-14/">
<!--[if lt IE 9]><script src="../../assets/js/html5shiv-printshiv.min.js"></script><![endif]--><meta name="author" content="Aaron Meurer">
<link rel="prev" href="../github-cuts/" title="GitHub Cuts" type="text/html">
<meta property="og:site_name" content="Aaron Meurer's Blog">
<meta property="og:title" content="What's New in SymPy 1.4">
<meta property="og:url" content="https://asmeurer.com/blog/posts/whats-new-in-sympy-14/">
<meta property="og:description" content="This post has been cross-posted on the Quansight Blog.
SymPy 1.4 was released on April 9, 2019. In this post, I'd like to go over
some of the highlights for this release. The full release notes for th">
<meta property="og:type" content="article">
<meta property="article:published_time" content="2019-04-19T12:41:57-05:00">
<meta name="twitter:card" content="summary">
<meta name="twitter:site:id" content="123456">
<meta name="twitter:creator:id" content="654321">
</head>
<body>
    <a href="#content" class="sr-only sr-only-focusable">Skip to main content</a>
    <div id="container">
         
    <header id="header"><h1 id="brand"><a href="https://asmeurer.com/blog/" title="Aaron Meurer's Blog" rel="home">

        <span id="blog-title">Aaron Meurer's Blog</span>
    </a></h1>

        

        
    <nav id="menu"><ul>
<li><a href="../../">Blog</a></li>
                <li><a href="../../about">About</a></li>
                <li><a href="../../work">Work</a></li>
                <li><a href="../../archive.html">Archives</a></li>
                <li><a href="../../rss.xml">RSS</a></li>

    

    
    
    </ul></nav></header><main id="content"><article class="post-text h-entry hentry postpage" itemscope="itemscope" itemtype="http://schema.org/Article"><header><h1 class="p-name entry-title" itemprop="headline name"><a href="." class="u-url">What's New in SymPy 1.4</a></h1>

        <div class="metadata">
            <p class="byline author vcard"><span class="byline-name fn" itemprop="author">
                    Aaron Meurer
            </span></p>
            <p class="dateline">
            <a href="." rel="bookmark">
            <time class="published dt-published" datetime="2019-04-19T12:41:57-05:00" itemprop="datePublished" title="2019-04-19 12:41">2019-04-19 12:41</time></a>
            </p>
                <p class="commentline">
        
    <a href="#disqus_thread" data-disqus-identifier="cache/posts/whats-new-in-sympy-14.html">Comments</a>


            
        </p>
<p class="sourceline"><a href="https://github.com/asmeurer/blog/blob/master/posts/whats-new-in-sympy-14.md" class="sourcelink">Source</a></p>

        </div>
        

    </header><div class="e-content entry-content" itemprop="articleBody text">
    <div>
<p><em>This post has been cross-posted on the <a href="...">Quansight Blog</a>.</em></p>
<p>SymPy 1.4 was released on April 9, 2019. In this post, I'd like to go over
some of the highlights for this release. The full release notes for the
release can be found on the <a href="https://github.com/sympy/sympy/wiki/Release-Notes-for-1.4">SymPy
wiki</a>.</p>
<p>To update to SymPy 1.4, use</p>
<pre><code class="language-bash">conda install sympy
</code></pre>
<p>or if you prefer to use pip</p>
<pre><code class="language-bash">pip install -U sympy
</code></pre>
<p>The SymPy 1.4 release contains over 500 changes from 38 different submodules,
so I will not be going over every change, but only a few of the main
highlights. A <a href="https://github.com/sympy/sympy/wiki/Release-Notes-for-1.4#authors">total of 104
people</a>
contributed to this release, including 66 people contributed for the first
time for this release.</p>
<h2>Automatic LaTeX rendering in the Jupyter notebook</h2>
<p>Prior to SymPy 1.4, SymPy expressions in the notebook rendered with their
default string representation, unless <code>init_printing()</code> was called, after
which they rendered with LaTeX:</p>
<img src="../../sympy-1.3-notebook.png" alt="SymPy 1.3 rendering in the Jupyter lab notebook"><p>In SymPy 1.4, SymPy expressions now automatically render as LaTeX in the notebook:</p>
<img src="../../sympy-1.4-notebook.png" alt="SymPy 1.4 rendering in the Jupyter lab notebook"><p>However, this only applies automatically if the type of an object is a SymPy
expression. For built-in types such as lists or ints, <code>init_printing()</code> is
still required to get LaTeX printing. For example, <code>solve()</code> returns a list,
so does not render as LaTeX unless <code>init_printing()</code> is called:</p>
<img src="../../sympy-1.4-notebook-2.png" alt="SymPy 1.4 rendering in the Jupyter lab notebook with init_printing()"><h2>Improved simplification</h2>
<p>simplification of relational and piecewise expressions has been improved:</p>
<pre><code class="language-py">&gt;&gt;&gt; x, y, z, w = symbols('x y z w')
&gt;&gt;&gt; init_printing()
&gt;&gt;&gt; And(Eq(x,y), x &gt;= y, w &lt; y, y &gt;= z, z &lt; y)
x = y ∧ x ≥ y ∧ y ≥ z ∧ w &lt; y ∧ z &lt; y
&gt;&gt;&gt; simplify(And(Eq(x,y), x &gt;= y, w &lt; y, y &gt;= z, z &lt; y))
x = y ∧ y &gt; Max(w, z)
</code></pre>
<pre><code class="language-py">&gt;&gt;&gt; Piecewise((x*y, And(x &gt;= y, Eq(y, 0))), (x - 1, Eq(x, 1)), (0, True))
⎧ x⋅y   for y = 0 ∧ x ≥ y
⎪
⎨x - 1      for x = 1
⎪
⎩  0        otherwise
&gt;&gt;&gt; simplify(Piecewise((x*y, And(x &gt;= y, Eq(y, 0))), (x - 1, Eq(x, 1)), (0, True)))
0
</code></pre>
<h2>Improved MathML printing</h2>
<p>The MathML content and presentation printers have been greatly improved,
putting them on par with the existing Unicode and LaTeX pretty printers.</p>
<pre><code class="language-py">&gt;&gt;&gt; mathml(Integral(exp(-x**2), (x, -oo, oo)), 'presentation')
&lt;mrow&gt;&lt;msubsup&gt;&lt;mo&gt;&amp;#x222B;&lt;/mo&gt;&lt;mrow&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;mi&gt;&amp;#x221E;&lt;/mi&gt;&lt;/mrow&gt;&lt;mi&gt;&amp;#x221E;&lt;/mi&gt;&lt;/msubsup&gt;&lt;msup&gt;&lt;mi&gt;&amp;ExponentialE;&lt;/mi&gt;&lt;mrow&gt;&lt;mo&gt;-&lt;/mo&gt;&lt;msup&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;mn&gt;2&lt;/mn&gt;&lt;/msup&gt;&lt;/mrow&gt;&lt;/msup&gt;&lt;mo&gt;&amp;dd;&lt;/mo&gt;&lt;mi&gt;x&lt;/mi&gt;&lt;/mrow&gt;
&gt;&gt;&gt; mathml(Integral(exp(-x**2), (x, -oo, oo)), 'content')
&lt;apply&gt;&lt;int/&gt;&lt;bvar&gt;&lt;ci&gt;x&lt;/ci&gt;&lt;/bvar&gt;&lt;lowlimit&gt;&lt;apply&gt;&lt;minus/&gt;&lt;infinity/&gt;&lt;/apply&gt;&lt;/lowlimit&gt;&lt;uplimit&gt;&lt;infinity/&gt;&lt;/uplimit&gt;&lt;apply&gt;&lt;exp/&gt;&lt;apply&gt;&lt;minus/&gt;&lt;apply&gt;&lt;power/&gt;&lt;ci&gt;x&lt;/ci&gt;&lt;cn&gt;2&lt;/cn&gt;&lt;/apply&gt;&lt;/apply&gt;&lt;/apply&gt;&lt;/apply&gt;
</code></pre>
<p>If your <a href="https://caniuse.com/#feat=mathml">browser supports MathML</a> (at the
time of writing, only Firefox and Safari), you should see the above
presentation form for <code>Integral(exp(-x**2), (x, -oo, oo))</code> below:</p>
<p><math style="display: block;"><mrow><msubsup><mo>∫</mo><mrow><mo>-</mo><mi>∞</mi></mrow><mi>∞</mi></msubsup><msup><mi>ⅇ</mi><mrow><mo>-</mo><msup><mi>x</mi><mn>2</mn></msup></mrow></msup><mo>ⅆ</mo><mi>x</mi></mrow></math></p>
</div>
    </div>
    <aside class="postpromonav"><nav><ul class="pager hidden-print">
<li class="previous">
                <a href="../github-cuts/" rel="prev" title="GitHub Cuts">Previous post</a>
            </li>
        </ul></nav></aside><section class="comments hidden-print"><h2>Comments</h2>
        
        
        <div id="disqus_thread"></div>
        <script>
        var disqus_shortname ="asmeurer",
            disqus_url="https://asmeurer.com/blog/posts/whats-new-in-sympy-14/",
        disqus_title="What's New in SymPy 1.4",
        disqus_identifier="cache/posts/whats-new-in-sympy-14.html",
        disqus_config = function () {
            this.language = "en";
        };
        (function() {
            var dsq = document.createElement('script'); dsq.async = true;
            dsq.src = 'https://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script><noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a>
</noscript>
    <a href="https://disqus.com" class="dsq-brlink" rel="nofollow">Comments powered by <span class="logo-disqus">Disqus</span></a>


        </section></article><script>var disqus_shortname="asmeurer";(function(){var a=document.createElement("script");a.async=true;a.src="https://"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script></main><footer id="footer"><p>Contents © 2019         <a href="mailto:asmeurer@gmail.com">Aaron Meurer</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
</p>
<p xmlns:dct="https://purl.org/dc/terms/" xmlns:vcard="https://www.w3.org/2001/vcard-rdf/3.0#">
  <a rel="license" href="https://creativecommons.org/publicdomain/zero/1.0/">
    <img src="https://i.creativecommons.org/p/zero/1.0/88x31.png" style="border-style: none;" alt="CC0"></a>
</p>
            
        </footer>
</div>
    
            <script src="../../assets/js/all-nocdn.js"></script><div style="text-align:center">
<span class="st_twitterfollow_large" displaytext="Twitter Follow" st_username="asmeurer"></span>
<span class="st_twitter_large" displaytext="Tweet"></span>
<span class="st_googleplus_large" displaytext="Google +"></span>
<span class="st_plusone_large" displaytext="Google +1"></span>

<span class="st_email_large" displaytext="Email"></span>

</div>


    
    <script>
    baguetteBox.run('div#content', {
        ignoreClass: 'islink',
        captions: function(element) {
            return element.getElementsByTagName('img')[0].alt;
    }});
    </script><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/styles/default.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/8.5/highlight.min.js"></script><script>hljs.initHighlightingOnLoad();</script>
</body>
</html>
