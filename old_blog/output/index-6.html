<!DOCTYPE html><html lang="en">
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="My blog on my work on SymPy and other fun stuff.">
    <meta name="author" content="Joe Example">
    <title>Aaron Meurer's SymPy Blog (old posts, page 6) | Aaron Meurer's SymPy Blog</title>
    
            <link href="assets/css/all-nocdn.css" rel="stylesheet" type="text/css">
    <link rel="canonical" href="http://asmeurersympy.wordpress.com/index-6.html">
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js" type="text/javascript"></script>
    <![endif]-->
            <link rel="alternate" type="application/rss+xml" title="RSS" href="rss.xml">

    
    
    
</head>
<body>
<!-- Menubar -->

<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="http://asmeurersympy.wordpress.com/">Aaron Meurer's SymPy Blog</a>
    </div>
    <div class="collapse navbar-collapse navbar-ex1-collapse">
        <ul class="nav navbar-nav">
            
                <li><a href="archive.html">Archives</a>
                </li><li><a href="categories/index.html">Tags</a>
                </li><li><a href="rss.xml">RSS</a>

        </li></ul>

        <ul class="nav navbar-nav navbar-right">
            
            
        </ul>
    </div><!-- /.navbar-collapse -->
</nav>

<!-- End of Menubar -->

<div class="container">
    <div class="body-content">
        <!--Body content-->
        <div class="row">
            
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/12/20/vim-vs-emacs-part-1.html" class="u-url">Vim vs. Emacs (Part 1)</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-12-20T08:17:43+00:00">2011-12-20 08:17</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>So about a month or so ago, I decided that I needed to start learning a command line text editor.  XCode, the editor I had been using for Python files, didn't work very well with the new version (in particular, the <a href="http://asmeurersympy.wordpress.com/2009/12/29/automatically-remove-trailing-whitespace-in-xcode/">essential plugin</a> that I'd been using to clear trailing whitespace on save doesn't yet work in XCode 4).  I'd been using TextWrangler for other things, and started to switch to it for Python editing too.  As far as free GUI text editors on the Mac go, TextWrangler is the best.  </p>
<p>But I'd seen some of the nice features that vim has, like automatically keeping all lines under 80 characters, on a friend's computer, and I decided that I should try it.</p>
<p>Now, I had had a little prior experience with both vim and emacs, but all that I remembered was for vim that <code>i</code> inserts and <code>ZZ</code> quits (for when I accidentally open it) and for emacs, that <code>M-X doctor</code> starts the psychiatrist. </p>
<p>So I've decided to try them out, doing it cold turkey.  To make sure that I choose the better one, I've decided to try both.  So, starting about a week ago, I've been using nothing but vim for all my text editing.  Starting in January, I will try using emacs, and after two weeks, I will see what I like better.</p>
<p>My opinions so far on vim:</p>
<div class="code"><pre><span class="nt">&lt;/p&gt;&lt;li&gt;</span>The tutorials suck.  The best tutorial is <span class="nt">&lt;code&gt;</span>vimtutor<span class="nt">&lt;/code&gt;</span> (type that in the command line), which I think comes with vim.  It's not bad, but it leaves out a few things that I would consider to be essential to a tutorial, for example, how to scroll (answer: use CTRL-D and CTRL-U).  I started the emacs tutorial a while back, and while I never finished it, from what I remember, it was much better (and I also remember that the first thing it talked about was how to scroll by more than one line at a time). It also left out the <span class="nt">&lt;code&gt;</span>.<span class="nt">&lt;/code&gt;</span> command, which I think is rather useful.  I did print out <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://www.viemu.com/a_vi_vim_graphical_cheat_sheet_tutorial.html"</span><span class="nt">&gt;</span>this cheatsheet<span class="nt">&lt;/a&gt;</span> and have it sitting next to me on my desk.  That has helped a lot.  I hope I can find something similar for emacs when I get to it.<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>vim is too line oriented.  vi started out as an extension to ed, the line editor, so this is not surprising.  But I still can't understand why pressing <span class="nt">&lt;code&gt;</span>l<span class="nt">&lt;/code&gt;</span> at the end of a line can't bring me to the beginning of the next line.  Maybe I'm just still doing it wrong (supposedly, you should rarely use <span class="nt">&lt;code&gt;</span>h<span class="nt">&lt;/code&gt;</span> and <span class="nt">&lt;code&gt;</span>l<span class="nt">&lt;/code&gt;</span> over more efficient moving commands).  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>Somewhat related to the last point, vim really likes to ring the terminal bell a lot. To quote <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://en.wikipedia.org/wiki/Editor_war"</span><span class="nt">&gt;</span>Wikipedia<span class="nt">&lt;/a&gt;</span>, "vi has two modes – 'beep repeatedly' and 'break everything'"<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>I managed to customize it to the point of usability (there are still several things I need to go in and figure out how to fix).  See https://github.com/asmeurer/dotfiles for my .vimrc and .vim/ files.  I found a decent Python syntax file, but it's actually not that great.  I modified it to color single quoted strings different from double quoted strings (a feature I missed from Xcode). I still need to make a better color scheme (preferably the same as Xcode's midnight), but this is enough work that I've put it off.<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>Pressing ESC all the time is really annoying.  Sometimes, I just arrow over, even though I know you're not "supposed to", just because my fingers don't want to reach over and press ESC.  I'm also really used to using control sequences to move around while typing, which of course doesn't work in vim.  In fact, so far, I'm suspecting that I'll like emacs better.  But I've vowed to give both a fair chance.  But so far, my impression is that vim is a great for text <span class="nt">&lt;em&gt;</span>editing<span class="nt">&lt;/em&gt;</span>, but not so hot for text <span class="nt">&lt;em&gt;</span>writing<span class="nt">&lt;/em&gt;</span> (unless you always write text perfectly, so that you never need to leave insert mode until you are done typing).  Just the simple act of deleting a mistyped word (yes, word, that happens a lot when you are decently fast touch typist) takes several keystrokes, when it should in my opinion only take one (two if you count the meta-key).<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>The customizability is really nice.  So far, everything that I've thought of to change has been changeable.  Also, language is easy enough to understand that I was able to modify the Python syntax file without any difficulty.  <span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>I like how it syntax highlights virtually everything I throw at it. <span class="nt">&lt;/li&gt;</span>
</pre></div>


<p>If there are any vim experts out there reading this, I have some questions:</p>
<div class="code"><pre><span class="nt">&lt;li&gt;</span>Is there an easy way to get a list of and jump to a function/class definition in a Python file?  In Xcode and TextWrangler, there was a nice popup at the top of the window that I could access these from.  In vim, so far the best I've found is searching for it, which isn't very efficient.<span class="nt">&lt;/li&gt;</span>

<span class="nt">&lt;li&gt;</span>I got TAB to indent 4 spaces in Python, but for some reason, when I create a new line after a <span class="nt">&lt;code&gt;</span>:<span class="nt">&lt;/code&gt;</span>, it puts 8 extra spaces. I wouldn't be surprised if this is the result of some mismatch/error in <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://github.com/asmeurer/dotfiles"</span><span class="nt">&gt;</span>my .vimrc or .vim/ files<span class="nt">&lt;/a&gt;</span>, but I don't know how to fix it<span class="nt">&lt;/li&gt;</span>

<span class="nt">&lt;li&gt;</span>Any useful tricks to share?  Especially for editing Python files.<span class="nt">&lt;/li&gt;</span>
<span class="nt">&lt;li&gt;</span>How long did it take you to become reasonably efficient with vim?<span class="nt">&lt;/li&gt;</span>
</pre></div>


<p><strong>EDIT: I thought of some more questions:</strong>
    </p><li>Is there a way to make vim consider camelCase to be word boundaries?</li>
<p>Finally, if anyone else is thinking of starting vim, I have some useful things I've already found in my .vimrc. So you might take a look at that, and add the ones that you like to your .vimrc.  Finally, if you are on Mac OS X, you should use <a href="http://www.iterm2.com/#/section/home">iTerm2</a>.  Actually, you should use this regardless of what text editor you use.  It's a very good Terminal.app replacement that has virtually all the features (with a couple of exceptions) as Terminal.app, and a ton of extra ones.  The one I want to mention here is mouse reporting support, so you can use your mouse to do things in vim.  This is very useful, as sometimes, e.g., when selecting text, using the mouse is just more efficient.  Also, if you get frustrated trying to remember the commands that will move around you faster than <code>h</code>, <code>j</code>, <code>k</code>, and <code>l</code>, you can just click on where you want to go.</p>
<p>:wq</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/12/20/vim-vs-emacs-part-1.html#disqus_thread" data-disqus-identifier="cache/posts/2011/12/20/vim-vs-emacs-part-1.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/08/18/sqrtx-now-prints-as-sqrtx.html" class="u-url">sqrt(x) now prints as "sqrt(x)"</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-08-18T03:11:32+00:00">2011-08-18 03:11</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>Just a few moments ago, <a href="https://github.com/sympy/sympy/pull/548" target="_blank">a branch</a> was pushed in that fixed one of my biggest grievances in SymPy, if not the biggest.  Previously we had this behavior:</p>
<p>[code language="py"]</p>
<p>In [1]: sqrt(x)</p>
<p>Out[1]: x**(1/2)</p>
<p>In [2]: solve(x**2 - 2, x)</p>
<p>Out[2]: [-2<strong>(1/2), 2</strong>(1/2)]</p>
<p>[/code]</p>
<p>Now suppose you took the output of those expressions and pasted them into isympy:</p>
<p>[code language="py"]</p>
<p>In [3]: x**(1/2)</p>
<p>Out[3]: x**0.5</p>
<p>In [4]: [-2<strong>(1/2), 2</strong>(1/2)]</p>
<p>Out[4]: [-1.41421356237, 1.41421356237]</p>
<p>[/code]</p>
<p>That's with <code><strong>future</strong>.division</code>.  Here's what would happen with old division:</p>
<p>[code language="py"]</p>
<p>In [2]: x**(1/2)</p>
<p>Out[2]: 1</p>
<p>In [3]: [-2<strong>(1/2), 2</strong>(1/2)]</p>
<p>Out[3]: [-1, 1]</p>
<p>[/code]</p>
<p>This is because with old division, <code>1/2</code> evaluates to <code>0</code>.</p>
<p>The problem is that Python evaluates <code>1/2</code> to <code>0.5</code> (or <code>0</code>) before SymPy has a change to convert it to a Rational.  There were several ways that people got around this.  If you copy an expression with number division in it and want to paste it into a SymPy session, the easiest way to do this was to pass it as a string to <code>sympify()</code>:</p>
<p>[code language="py"]</p>
<p>In [1]: sympify("x**(1/2)")</p>
<p>Out[1]: x**(1/2)</p>
<p>In [2]: sympify("[-2<strong>(1/2), 2</strong>(1/2)]")</p>
<p>Out[2]: [-2<strong>(1/2), 2</strong>(1/2)]</p>
<p>[/code]</p>
<p>If that was too much typing for you, you could use the <code>S()</code> shortcut to <code>sympify()</code></p>
<p>[code language="py"]</p>
<p>In [3]: S("x**(1/2)")</p>
<p>Out[3]: x**(1/2)</p>
<p>In [4]: S("[-2<strong>(1/2), 2</strong>(1/2)]")</p>
<p>Out[4]: [-2<strong>(1/2), 2</strong>(1/2)]</p>
<p>[/code]</p>
<p>This solution is fine if you want to paste an expression into a SymPy session, but it's not a very clean one if you want to paste code into a script. For that, you need to modify the code so that it no longer contains Python int/Python int.  The easiest way to do this is to sympify one of the ints.  So you would do something like</p>
<p>[code language="py"]</p>
<p>In [5]: x**(S(1)/2)</p>
<p>Out[5]: x**(1/2)</p>
<p>In [6]: [-2<strong>(S(1)/2), 2</strong>(S(1)/2)]</p>
<p>Out[6]: [-2<strong>(1/2), 2</strong>(1/2)]</p>
<p>[/code]</p>
<p>This wasn't terribly readable, though.  The <em>best</em> way to fix the problem when you had a power of one half was to use <code>sqrt()</code>, which is a shortcut to <code>Pow(…, Rational(1, 2))</code>.  </p>
<p>Well, this last item should make you think.  If <code>sqrt(x)</code> is more readable than <code>x<strong>(S(1)/2)</strong></code> or even <code>x(1/2)</code>, why not print it like that in the first place.  Well, I thought so, so I changed the string printer, and now this is the way that SymPy works.  So 90% of the time, you can just paste the result of <code>str()</code> or <code>print</code>, and it will just work, because there won't be any <code>**(1/2)</code>, which was by far the most common problem of "Python evaluating the expression to something before we can."  In the git master, SymPy now behaves like</p>
<p>[code language="py"]</p>
<p>In [1]: sqrt(x)</p>
<p>Out[1]: sqrt(x)</p>
<p>In [2]: solve(x**2 - 2, x)</p>
<p>Out[2]: [-sqrt(2), sqrt(2)]</p>
<p>[/code]</p>
<p>You can obviously just copy and paste these results, and you get the exact same thing back.  Not only does this make expressions more copy-and-pastable, but the output is <em>much</em> nicer in terms of readability.  Here are some before and afters that come from actual SymPy doctests that I had to change after fixing the printer:</p>
<p>[code language="py"]</p>
<p>Before:</p>
<p>&gt;&gt;&gt; e = ((2+2<em>sqrt(2))</em>x+(2+sqrt(8))*y)/(2+sqrt(2))</p>
<p>&gt;&gt;&gt; radsimp(e)</p>
<p>2<strong>(1/2)*x + 2</strong>(1/2)*y</p>
<p>After:</p>
<p>&gt;&gt;&gt; radsimp(e)</p>
<p>sqrt(2)<em>x + sqrt(2)</em>y</p>
<p>[/code]</p>
<p>[code language="py"]</p>
<p>Before:</p>
<p>&gt;&gt;&gt; b = besselj(n, z)</p>
<p>&gt;&gt;&gt; b.rewrite(jn)</p>
<p>2<strong>(1/2)*z</strong>(1/2)<em>jn(n - 1/2, z)/pi</em>*(1/2)</p>
<p>After:</p>
<p>&gt;&gt;&gt; b.rewrite(jn)</p>
<p>sqrt(2)<em>sqrt(z)</em>jn(n - 1/2, z)/sqrt(pi)</p>
<p>[/code]</p>
<p>[code language="py"]</p>
<p>Before:</p>
<p>&gt;&gt;&gt; x = sympify('-1/(-3/2+(1/2)<em>sqrt(5))</em>sqrt(3/2-1/2*sqrt(5))')</p>
<p>&gt;&gt;&gt; x</p>
<p>(3/2 - 5<strong>(1/2)/2)</strong>(-1/2)</p>
<p>After</p>
<p>&gt;&gt;&gt; x</p>
<p>1/sqrt(3/2 - sqrt(5)/2)</p>
<p>[/code]</p>
<p>And not only is <code>sqrt(x)</code> easier to read than <code>x**(1/2)</code> but it's fewer characters.</p>
<p>In the course of changing this, I went ahead and did some greps of the repository to get rid of all <code><strong>(S(1)/2)</strong></code>, <code>Rational(1, 2)</code> and similar throughout the code base (not just in the output of doctests where the change had to be made), replacing them with just <code>sqrt</code>.  Big thanks to Chris Smith for helping me catch all instances of this.  Now the code should be a little easier to read and maintain.</p>
<p><strong>Future Work</strong></p>
<p>This is a big change, and I believe it will fix the copy-paste problem for 90% of expressions. But it does not solve it completely.  It is still possible to get int/int in the string form of an expression.  Only powers of 1/2 and -1/2 are converted to sqrt, so any other rational power will still print as a/b, like</p>
<p>[code language="py"]</p>
<p>In [1]: x**Rational(3, 2)</p>
<p>Out[1]: x**(3/2)</p>
<p>[/code]</p>
<p>Also, as you may have noticed in the last example above, a rational number that sits by itself will still be printed as int/int, like</p>
<p>[code language="py"]</p>
<p>In [2]: (1 + x)/2</p>
<p>Out[2]: x/2 + 1/2</p>
<p>[/code]</p>
<p>Therefore, I'm leaving the <a href="http://code.google.com/p/sympy/issues/detail?id=2359" target="_blank">issue for this</a> open to discuss potential future fixes to the string printer.  One idea is to create a <code>root</code> function that is a shortcut to <code>root(x, a) == x**(1/a)</code>. This would work for rational powers where the numerator is 1.  For other rational powers, we could then denest these with an integer power.  It's important to do this in the right order, though, as they are not equivalent.  You can see that SymPy auto-simplifies it when it is mathematically correct in all cases, and not when it is not:</p>
<p>[code language="py"]</p>
<p>In [3]: sqrt(x**3)</p>
<p>Out[3]: sqrt(x**3)</p>
<p>In [4]: sqrt(x)**3</p>
<p>Out[4]: x**(3/2)</p>
<p>[/code]</p>
<p>Thus $latex \left(\sqrt{x}\right)^3 = x^{\frac{3}{2}}$ but $latex \sqrt{x^3} \neq x^{\frac{3}{2}}$ (to see this, replace $latex x$ with -1).</p>
<p>So the idea would be to print <code>Pow(expr, Rational(a, b))</code> as <code>root(expr, b)**a</code>.  </p>
<p>The merits of this are debatable, but anyway I think we should have this <code>root()</code> function in any case (see <a href="http://code.google.com/p/sympy/issues/detail?id=2643" target="_blank">issue 2643</a>).</p>
<p>Another idea, which is probably not a good one, is to always print <code>int/int</code> as <code>S(int)/int</code>.  So we would get</p>
<p>[code language="py"]</p>
<p>&gt;&gt;&gt; Rational(1, 2)</p>
<p>S(1)/2</p>
<p>&gt;&gt;&gt; x**Rational(4, 5)</p>
<p>x**(S(4)/5)</p>
<p>[/code]</p>
<p>This is probably a bad idea because even though expressions would always be copy-pastable, they would be slightly less readable.  </p>
<p>By the way, in case you didn't catch it, all of these changes only affect the string printer.  The pretty printer remained unaffected, and would under any additional changes, as it isn't copy-pastable anyway, and already does a superb job of printing roots.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/08/18/sqrtx-now-prints-as-sqrtx.html#disqus_thread" data-disqus-identifier="cache/posts/2011/08/18/sqrtx-now-prints-as-sqrtx.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/08/08/hacking-pudb-now-an-even-better-python-debugger.html" class="u-url">Hacking PuDB: Now an even better Python debugger</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-08-08T03:16:10+00:00">2011-08-08 03:16</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>Readers of this blog may remember last year when I <a href="http://asmeurersympy.wordpress.com/2010/06/04/pudb-a-better-python-debugger/" target="_blank">wrote</a> about this awesome visual console Python debugger called <a href="http://pypi.python.org/pypi/pudb" target="_blank">PuDB</a>.  I suggest you read that post if you haven't.</p>
<p>At the end of that post, I noted that Ondřej and I had hacked it to make the colors more livable.  Well, a couple of weeks ago, GitHub user <a href="https://github.com/jtriley" target="_blank">jtriley</a> sent me an email asking me to back port my changes.</p>
<p>A lot has changed since I wrote my blog post last year.  PuDB now has an official <a href="http://lists.tiker.net/listinfo/pudb" target="_blank">mailing list</a> and an official <a href="https://github.com/inducer/pudb" target="_blank">GitHub repo</a>.</p>
<p>So I deleted my <a href="https://github.com/asmeurer/pudb" target="_blank">GitHub clone</a> and reforked from the official version.  </p>
<p>A lot has also changed in the official code.  Andreas had added config support, including a built-in prefs dialog that lets you set a few settings:  the ability to turn on or off line numbers and the ability to change themes.</p>
<p>So I took the new code and added my theme as an official theme.  This was pretty straight forward to do.</p>
<p>But then, I got a little carried away.  </p>
<p>I noticed that it was difficult to choose a theme with the built-in prefs window because you had to close and reopen the window each time you made a change.  So I added code to make it auto-update your changes as you made them.</p>
<p>Then I went back and looked at my original blog post and looked at the things that I didn't like.  There were two things.  First, the default stringifier for variables is <code>type</code>, which is completely useless.  This is because <code>type</code> is very fast and stable to compute.  I had previously hacked this to be <code>str</code>, but now that there was an official config file with a prefs dialog, I figured it should go there. </p>
<p>So I added support to change this setting.  But this wasn't enough for me.  I also added the ability to define your own custom stringifier.  You just create a Python file that defines a function called <code>pudb_stringifier(obj)</code>, which converts <code>obj</code> into the desired string representation.  I included an <a href="https://github.com/inducer/pudb/blob/master/example-stringifier.py" target="_blank">example file</a> that gives a fancy example that uses signals to compute the string value, but times out after one second and falls back to the type.  This alleviates one of the problems of using <code>str</code>, which is that it can be slow for objects with large string expressions, especially SymPy objects, where sometimes the printer can be slow.</p>
<p>The second thing I didn't like was that although you can change the width of the right-hand side bar, you could not change the relative heights of the variables, stack, and breakpoints boxes.  I never use breakpoints, and rarely use the stack, so I would prefer to have those smaller and the variables larger.  So I implemented it so that the <code>[</code> and <code>]</code> keys make the selected view smaller or larger.  This information is all saved in the config file, so it's remembered when you close and reopen PuDB.</p>
<p>There was one other thing that I didn't like, which a change since my last blog post that reversed the order of the stack variables from what it was.  It used to be most recent at the bottom, but it was changed to most recent at the top.  This perhaps makes more sense, but the buttons to move around the stack, <code>u</code> and <code>d</code>, were still the same: <code>u</code> moves down the stack (i.e., less recent), and <code>d</code> moves up.  These keys were already well established—indeed, these are the same keys used in Python's built-in debugger pdb—so I added a setting to change the stack order.  This was an easy change to make at this point, as I was already well aquatinted with the settings code, and only two lines of code needed to be changed when the setting changed.  Like all other settings, this uses the cool magic that changes the setting in real time, so you can see the effect without closing the settings window.</p>
<p>Then someone on the mailing list requested a feature that I realized I also wanted, the ability to wrap variables.  Previously, any variable that was longer than the variable view would just be cut off.  You could make it wider, but that only helped a little bit.  Otherwise, if you wanted to see the whole variable, you had to open IPython by pressing <code>!</code> and view it there.</p>
<p>So, I implemented this.  This was definitely the hardest thing to implement.  I found out that it's ironically very difficult to debug PuDB itself.  You can't run PuDB inside of PuDB if PuDB crashes, as both instances will just crash.  Also, PuDB eats any print statements.  The solution, suggested by PuDB author Andreas Klöckner, was to get the ttys file of another terminal (e.g., <code>/dev/ttys012</code>) and write the output to that.</p>
<p>I also made it so that non-wrapped variables show <code>...</code> at the end, at Andreas's suggestion.  I wanted to use the unicode <code>…</code>, but this was not working at all.  I discovered how much unicode really is a mess in Python 2.  The problem has something to do with … being a three byte character, and I think it also has to do with the color codes that urwid uses.  I'll try it again once PuDB is ported to Python 3, but for now,  we are going to have to do with the three ascii dots.</p>
<p>The wrapping code is waiting for merge, but the rest are already in.  Here is a screen shot demonstrating some of the things I did:</p>
<p><a href="2011/08/screen-shot-2011-08-07-at-8-28-11-pm.png"><img src="http://asmeurersympy.files.wordpress.com/2011/08/screen-shot-2011-08-07-at-8-28-11-pm.png?w=300" alt="" title="Improved PuDB" width="300" height="245" class="size-medium wp-image-1021"></a></p>
<p>Things that I implemented to notice here:</p>
<ul>
<li>
<p>The midnight theme.</p>
</li>
<li>
<p>The stack and breakpoints views have been shrunken.</p>
</li>
<li>
<p>The variables are wrapped.</p>
</li>
<li>
<p>Wrapping for the variable <code>fourhundred</code> has been turned off (you can turn wrapping on or off on a per-variable basis by selecting the variable and pressing <code>w</code>).   Notice that there is an ellipsis at the end to note it has been cut off.</p>
</li>
<li>
<p>Nested variables now have <code>|</code> before them, to distinguish them from wrapped variables, which are also indented.  This change may or may not be accepted by Andreas.</p>
</li>
</ul>
<p>Here's a screen shot showing the prefs window.  I did not implement this, but I did implement all but the first two preferences in the window. I've made my window tall so you can see all the options.  You really have to get the code and try it to see the auto-update awesomeness.  You can open the prefs window by pressing <code>Ctrl-p</code> (this was not at all obvious to me the first time I used it, so I also submitted a patch that makes it open the first time you use PuDB).</p>
<p><a href="2011/08/screen-shot-2011-08-07-at-8-41-30-pm.png"><img src="http://asmeurersympy.files.wordpress.com/2011/08/screen-shot-2011-08-07-at-8-41-30-pm.png?w=243" alt="" title="PuDB Prefs Window" width="243" height="300" class="size-medium wp-image-1023"></a></p>
<p>So if you're not already using this awesome Python debugger, you should.  You can <code>pip install pudb</code>, or <a href="https://github.com/inducer/pudb" target="_blank">fork it</a> at GitHub.</p>
<p>Running it in your code is very easy.  Just add</p>
<p>[code lang="py"]</p>
<p>import pudb;pudb.set_trace()</p>
<p>[/code]</p>
<p>in your code wherever you want to set a break point, or you can do <code>python -m pudb.run script.py</code>.</p>
<p>This awesome tool has increased my productivity tenfold since I discovered it, and has helped me track down bugs that would have otherwise extremely difficult if not impossible to find.  And now, it's just better.</p>
<p>PuDB uses the <a href="http://excess.org/urwid/" target="_blank">urwid library</a> to do all its console GUI magic.  This library makes it pretty easy to do a lot of stuff. For example, it automatically does relative sizing of widgets, so, for example, when you resize the variables, stack, or breakpoints views, you are actually increasing the relative size of each, not the size in characters.  This makes it portable against any terminal size.  The library also made coding the prefs window autoupdate magic very easy.</p>
<p>Also, I just want to note that git and GitHub make collaboration like this very easy.  I just forked his project, made some improvements, and submitted them as pull requests.  Then it was easy to discuss the changes.  If the code had not been on GitHub and especially if it had not been in git, I probably would have never bothered to submit my contributions upstream.  I highly recommend that every open source project use git and GitHub.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/08/08/hacking-pudb-now-an-even-better-python-debugger.html#disqus_thread" data-disqus-identifier="cache/posts/2011/08/08/hacking-pudb-now-an-even-better-python-debugger.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/07/30/sympy-0-7-1-released.html" class="u-url">SymPy 0.7.1 Released</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-07-30T05:19:14+00:00">2011-07-30 05:19</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><em>Cross posted on the <a href="http://sympy.blogspot.com/2011/07/sympy-071-released.html">official SymPy Blog</a></em>
<p>SymPy 0.7.1 has been released on July 29, 2011. It is available at</p>
<p><a href="http://sympy.org">http://sympy.org</a></p>
<p></p>
<p>The source distribution can be downloaded from:</p>
<p><a href="http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.1.tar.gz">http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.1.tar.gz</a></p>
<p></p>
<p>You can get the Windows installer here:</p>
<p><a href="http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.1.win32.exe">http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.1.win32.exe</a></p>
<p></p>
<p>And the html documentation here:</p>
<p><a href="http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.1-docs-html.zip">http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.1-docs-html.zip</a></p>
<p></p>
<p><span style="font-weight:bold;">About SymPy</span></p>
<p></p>
<p>SymPy is a Python library for symbolic mathematics. It aims to become a full-featured computer algebra system (CAS) while keeping the code as simple as possible in order to be comprehensible and easily extensible. SymPy is written entirely in Python.</p>
<p><span style="font-weight:bold;">Release notes</span></p>
<p></p>
<p><span style="font-weight:bold;">Major changes</span></p>
<ul>
<li>
<p>Python 2.4 is no longer supported.  SymPy will not work at all in
  Python 2.4.  If you still need to use SymPy under Python 2.4 for some
  reason, you will need to use SymPy 0.7.0 or earlier.</p>
</li>
<li>
<p>The Pyglet plotting library is now an (optional) external dependency. 
  Previously, we shipped a version of Pyglet with SymPy, but this was
  old and buggy.  The plan is to eventually make the plotting in SymPy
  much more modular, so that it supports many backends, but this has not
  been done yet.  For now, still only Pyglet is directly supported. 
  Note that Pyglet is only an optional dependency and is only needed for
  plotting. The rest of SymPy can still be used without any dependencies
  (except for Python).</p>
</li>
<li>
<p>isympy now works with the new IPython 0.11.</p>
</li>
<li>
<p>mpmath has been updated to 0.17.  See the corresponding mpmath release
  notes at http://mpmath.googlecode.com/svn/trunk/CHANGES.</p>
</li>
<li>
<p>Added a Subs object for representing unevaluated substitutions.  This
  finally lets us represent derivatives evaluated at a point, i.e.,
  <code>diff(f(x), x).subs(x, 0)</code> returns <code>Subs(Derivative(f(_x), _x), (_x,), (0,))</code>.
  This also means that SymPy can now correctly compute the chain rule
  when this functionality is required, such as with <code>f(g(x)).diff(x)</code>.</p>
</li>
</ul>
<p><span style="font-weight:bold;">Hypergeometric functions/Meijer G-Functions</span></p>
<ul>
<li>
<p>Added classes hyper() and meijerg() to represent Hypergeometric and Meijer G-functions, respectively. They support numerical evaluation (using mpmath) and symbolic differentiation (not with respect to the parameters).</p>
</li>
<li>
<p>Added an algorithm for rewriting hypergeometric and meijer g-functions in terms of more familiar, named special functions. It is accessible via the function hyperexpand(), or also via expand_func(). This algorithm recognises many elementary functions, and also complete and incomplete gamma functions, bessel functions, and error functions. It can easily be extended to handle more classes of special functions.</p>
</li>
</ul>
<p><span style="font-weight:bold;">Sets</span></p>
<ul>
<li>
<p>Added FiniteSet class to mimic python set behavior while also interacting with existing Intervals and Unions</p>
</li>
<li>
<p>FiniteSets and Intervals interact so that, for example <code>Interval(0, 10) - FiniteSet(0, 5)</code> produces <code>(0, 5) U (5, 10]</code></p>
</li>
<li>
<p>FiniteSets also handle non-numerical objects so the following is possible <code>{1, 2, 'one', 'two', {a, b}}</code></p>
</li>
<li>
<p>Added ProductSet to handle Cartesian products of sets</p>
</li>
<li>
<p>Create using the <code>*</code> operator, i.e. <code>twodice = FiniteSet(1, 2, 3, 4, 5, 6) * FiniteSet(1, 2, 3, 4, 5, 6) or square = Interval(0, 1) * Interval(0, 1)</code></p>
</li>
<li>
<p>pow operator also works as expected: <code>R3 = Interval(-oo, oo)**3 ; (3, -5, 0) in R3 == True</code></p>
</li>
<li>
<p>Subtraction, union, measurement all work taking complex intersections into account. </p>
</li>
<li>
<p>Added as_relational method to sets, producing boolean statements using And, Or, Eq, Lt, Gt, etc...</p>
</li>
<li>
<p>Changed reduce_poly_inequalities to return unions of sets rather than lists of sets</p>
</li>
</ul>
<p><span style="font-weight:bold;">Iterables</span></p>
<ul>
<li>
<p>Added generating routines for integer partitions and binary partitions. The routine for integer partitions takes 3 arguments, the number itself, the maximum possible element allowed in the partitions generated and the maximum possible number of elements that will be in the partition. Binary partitions are characterized by containing only powers of two.</p>
</li>
<li>
<p>Added generating routine for multi-set partitions. Given a multiset, the algorithm implemented will generate all possible partitions of that multi-set.</p>
</li>
<li>
<p>Added generating routines for bell permutations, derangements, and involutions. A bell permutation is one in which the cycles that compose it consist of integers in a decreasing order. A derangement is a permutation such that the ith element is not at the ith position. An involution is a permutation that when multiplied by itself gives the identity permutation.</p>
</li>
<li>
<p>Added generating routine for unrestricted necklaces. An unrestricted necklace is an a-ary string of n characters, each of a possible types. These have been characterized by the parameters n and k in the routine.</p>
</li>
<li>
<p>Added generating routine for oriented forests. This is an implementation of algorithm S in TAOCP Vol 4A.</p>
</li>
</ul>
<p><span style="font-weight:bold;">xyz Spin bases</span></p>
<ul>
<li>
<p>The represent, rewrite and InnerProduct logic has been improved to work between any two spin bases. This was done by utilizing the Wigner-D matrix, implemented in the WignerD class, in defining the changes between the various bases. Representing a state, i.e. <code>represent(JzKet(1,0), basis=Jx)</code>, can be used to give the vector representation of any get in any of the x/y/z bases for numerical values of j and m in the spin eigenstate. Similarly, rewriting states into different bases, i.e. <code>JzKet(1,0).rewrite('Jx')</code>, will write the states as a linear combination of elements of the given basis. Because this relies on the represent function, this only works for numerical j and m values. The inner product of two eigenstates in different bases can be evaluated, i.e. <code>InnerProduct(JzKet(1,0),JxKet(1,1))</code>. When two different bases are used, one state is rewritten into the other basis, so this requires numerical values of j and m, but innerproducts of states in the same basis can still be done symbolically.</p>
</li>
<li>
<p>The <code>Rotation.D</code> and <code>Rotation.d</code> methods, representing the Wigner-D function and the Wigner small-d function, return an instance of the WignerD class, which can be evaluated with the <code>doit()</code> method to give the corresponding matrix element of the Wigner-D matrix.</p>
</li>
</ul>
<p><span style="font-weight:bold;">Other changes</span></p>
<ul>
<li>
<p>We now use MathJax in our docs. MathJax renders LaTeX math entierly in
  the browser using Javascript.  This means that the math is much more
  readable than the previous png math, which uses images.  MathJax is
  only supported on modern browsers, so LaTeX math in the docs may not
  work on older browsers.</p>
</li>
<li>
<p>nroots() now lets you set the precision of computations</p>
</li>
<li>
<p>Added support for gmpy and mpmath's types to sympify()</p>
</li>
<li>
<p>Fix some bugs with lambdify()</p>
</li>
<li>
<p>Fix a bug with as_independent and non-commutative symbols.</p>
</li>
<li>
<p>Fix a bug with collect (issue 2516)</p>
</li>
<li>
<p>Many fixes relating to porting SymPy to Python 3.  Thanks to our GSoC
  student Vladimir Perić, this task is almost completed.</p>
</li>
<li>
<p>Some people were retroactively added to the AUTHORS file.</p>
</li>
<li>
<p>Added a solver for a special case of the Riccati equation in the ODE
  module.</p>
</li>
<li>
<p>Iterated derivatives are pretty printed in a concise way.</p>
</li>
<li>
<p>Fix a bug with integrating functions with multiple DiracDeltas.</p>
</li>
<li>
<p>Add support for Matrix.norm() that works for Matrices (not just vectors).</p>
</li>
<li>
<p>Improvements to the Groebner bases algorithm.</p>
</li>
<li>
<p>Plot.saveimage now supports a StringIO outfile</p>
</li>
<li>
<p>Expr.as_ordered_terms now supports non lex orderings.</p>
</li>
<li>
<p>diff now canonicalizes the order of differentiation symbols.  This is
  so it can simplify expressions like <code>f(x, y).diff(x, y) - f(x,
  y).diff(y, x)</code>.  If you want to create a Derivative object without
  sorting the args, you should create it explicitly with <code>Derivative</code>,
  so that you will get <code>Derivative(f(x, y), x, y) != Derivative(f(x, y), y, x)</code>.
  Note that internally, derivatives that can be computed are always
  computed in the order that they are given in.</p>
</li>
<li>
<p>Added functions <code>is_sequence()</code> and <code>iterable()</code> for determining if
  something is an ordered iterable or normal iterable, respectively.</p>
</li>
<li>
<p>Enabled an option in Sphinx that adds a <code>source</code> link next to each function, which links to a copy of the source code for that function.</p>
</li>
</ul>
<p>In addition to the more noticeable changes listed above, there have been numerous other smaller additions, improvements and bug fixes in the ~300 commits in this release. See the git log for a full list of all changes.  The command <code>git log sympy-0.7.0..sympy-0.7.1</code> will show all commits made between this release and the last. You can also see the issues closed since the last release <a href="http://code.google.com/p/sympy/issues/list?can=1&amp;amp;q=closed-after%3A2010%2F6%2F13+closed-before%3A2011%2F7%2F30&amp;amp;sort=-closed&amp;amp;colspec=ID+Type+Status+Priority+Milestone+Owner+Summary+Stars+Closed&amp;amp;cells=tiles">here</a>.</p>
<p><span style="font-weight:bold;">Authors</span></p>
<p>The following people contributed at least one patch to this release (names are given in alphabetical order by last name).  A total of 26 people contributed to this release.  People with a * by their names contributed a patch for the first time for this release.  Five people contributed for the first time for this release.  </p>
<p>Thanks to everyone who contributed to this release!</p>
<ul>
<li>
<p>Tom Bachmann</p>
</li>
<li>
<p>Ondřej Čertík</p>
</li>
<li>
<p>Renato Coutinho</p>
</li>
<li>
<p>Bill Flynn</p>
</li>
<li>
<p>Bradley Froehle*</p>
</li>
<li>
<p>Gilbert Gede</p>
</li>
<li>
<p>Brian Granger</p>
</li>
<li>
<p>Emma Hogan*</p>
</li>
<li>
<p>Yuri Karadzhov</p>
</li>
<li>
<p>Stefan Krastanov*</p>
</li>
<li>
<p>Ronan Lamy</p>
</li>
<li>
<p>Tomo Lazovich</p>
</li>
<li>
<p>Sam Magura*</p>
</li>
<li>
<p>Saptarshi Mandal</p>
</li>
<li>
<p>Aaron Meurer</p>
</li>
<li>
<p>Sherjil Ozair</p>
</li>
<li>
<p>Mateusz Paprocki</p>
</li>
<li>
<p>Vladimir Perić</p>
</li>
<li>
<p>Mario Pernici</p>
</li>
<li>
<p>Nicolas Pourcelot</p>
</li>
<li>
<p>Min Ragan-Kelley*</p>
</li>
<li>
<p>Matthew Rocklin</p>
</li>
<li>
<p>Chris Smith</p>
</li>
<li>
<p>Vinzent Steinberg</p>
</li>
<li>
<p>Sean Vig</p>
</li>
<li>
<p>Thomas Wiecki</p>
</li>
</ul>
<p></p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/07/30/sympy-0-7-1-released.html#disqus_thread" data-disqus-identifier="cache/posts/2011/07/30/sympy-0-7-1-released.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/07/25/merging-integration3-with-sympy-0-7-0-nightmare.html" class="u-url">Merging integration3 with sympy-0.7.0 nightmare</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-07-25T09:25:13+00:00">2011-07-25 09:25</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>For a long time, there have been several problems in my <code>integration3</code> branch that were fixed in <code>master</code>.  I decided that as an incentive to finish the release, I would hold off on merging <code>master</code> into my branch until the 0.7.0 release was finished.  Well, here's a little timeline:</p>
<p></p><ul>
    <li><strong>June 28, 2011:</strong> SymPy 0.7.0 final is released.</li>
    <li><strong>June 29, 2011:</strong> I type <code>git merge sympy-0.7.0</code> in my <code>integration3</code> branch.</li>
    <li><strong>July 24, 2011 (today; technically July 25 because it's 2 AM):</strong> I finish merging <code>sympy-0.7.0</code> into <code>integration3</code>.</li>
</ul>
<p>That's right, it took me over three weeks---almost a month---to merge <code>sympy-0.7.0</code> into <code>integration3</code> (granted, I worked on other things at the same time, such as the <a href="https://github.com/asmeurer/sympy/commit/52657848516ce7f4f7119b921d6b8d64131b58d3" target="_blank">SciPy 2011 conference</a>, but to me, any merge that takes longer than a day to complete is a problem).  This is because git decided that I needed to fix as a merge conflict just about every single change in the release branch since the base of <code>integration3</code>.  The total was over 100 files.  You can see the final merge commit <a href="https://github.com/asmeurer/sympy/commit/52657848516ce7f4f7119b921d6b8d64131b58d3" target="_blank">here</a>.</p>
<p>So I started <code>git mergetool</code>, without which this whole ordeal would have been 10 times worse.  The mergetool, which on my computer is opendiff, i.e., File Merge, gave the correct change by default in most cases, so I actually did not have to manually fix the majority of the conflicts.  But I did have to go through and do a lot of them.  I had to manually check each difference in the polys, as I had made several changes there in the course of working on <code>integration3</code>.  In several occisaions, I had to research a change using <code>git log -S</code> and fancy methods.  And I noticed at least two regressions in the polys, which I fixed.</p>
<p>mergetool was useless against <code>risch.py</code> and <code>test_risch.py</code>, because in my branch I had renamed these to <code>heurisch.py</code> and <code>test_heurisch.py</code>.  Fortunately, these were not really modified much by me, so I could basically just replace them with the <code>sympy-0.7.0</code> versions.</p>
<p>Once I finished merging I had to deal with test failures.  This was partly expected, as my branch has always had test failures due to my hack disabling algebraic substitution in <code>exp</code>, which is required for <code>risch_integrate()</code> to work, but there were also several unrelated ones.  </p>
<p>Some of these were caused by wrong merge conflict resolutions by me.  So I went through <code>git diff sympy-0.7.0</code> change by change and made sure that nothing was different that I didn't want to be.  I would recommend doing this for any big merge.</p>
<p>Then, I had to fix a few bugs that caused test failures.  Several semantics were changed in the release.  I think the ones that I had to change were the renaming of <code>has_any_symbols</code> to just <code>has</code>, the renaming of <code>Poly.as_basic()</code> to <code>Poly.as_expr()</code>, and the swapping of the meanings of <code>quo</code> and <code>exquo</code> in the polys.  There were also some doctest failures due to the change to lexicographic ordering in the printer.</p>
<p>After all that, there were two regressions that caused test failures.  The first was the following:</p>
<p>Before:</p>
<p>[code lang="py"]</p>
<p>In [1]: Integral((exp(x<em>log(x))</em>log(x)), x).subs(exp(x<em>log(x)), x</em>*x)</p>
<p>Out[1]: </p>
<p>⌠             </p>
<p>⎮  x          </p>
<p>⎮ x ⋅log(x) dx</p>
<p>⌡             </p>
<p>[/code]</p>
<p>After:</p>
<p>[code lang="py"]</p>
<p>In [1]: Integral((exp(x<em>log(x))</em>log(x)), x).subs(exp(x<em>log(x)), x</em>*x)</p>
<p>Out[1]: </p>
<p>⌠                    </p>
<p>⎮  x⋅log(x)          </p>
<p>⎮ ℯ        ⋅log(x) dx</p>
<p>⌡                    </p>
<p>[/code]</p>
<p>This substitution is necessary because the Risch algorithm requires expressions like $latex x^x$ to be rewritten as $latex e^{x\log(x)}$ before it can integrate them, but I try to convert them back after integrating so that the user gets the same thing in the result that he entered.  I created <a href="http://code.google.com/p/sympy/issues/detail?id=2571" target="_blank">issue 2571</a> for this.</p>
<p>The second was that I had several places in my docstrings with things like</p>
<blockquote>

Given a derivation D on k[t] and f, g in k(t) with f weakly normalized with respect to t, either raise NonElementaryIntegralException, in which case the equation Dy + f*y == g has no solution in k(t), or the quadruplet (a, b, c, h) such that a, h in k[t], b, c in k, and for any solution y in k(t) of Dy + f*y == g, q = y*h in k satisfies a*Dq + b*q == c.

</blockquote>

<p>The problem here is the "raise NonElementaryIntegralException," part.  The code quality checker things that this is an old style exception (like <code>raise Exception, message</code>), due to a poorly formed regular expression.  I fixed this in a <a href="https://github.com/sympy/sympy/pull/511" target="_blank">pull request</a>.</p>
<p>The good news is that now a lot of stuff works that didn't before because of fixes that were required that only existed in <code>master</code>.  For example, the following did not work before, but now does due to improvements to <code>RootSum</code>:</p>
<p>[code lang="py"]</p>
<p>In [1]: risch_integrate(1/(exp(5*x) + exp(x) + 1), x)</p>
<p>Out[1]: 
           ⎛    2                                                         <br>
x + RootSum⎝21⋅z  + 6⋅z + 1, Lambda(_i, _i<em>log(-3381</em>_i<strong>4/4 - 3381*_i</strong>3/4 </p>
<div class="code"><pre>                                   <span class="err">⎞</span>          <span class="err">⎛</span>     <span class="mi">3</span>        <span class="mi">2</span>
</pre></div>


<ul>
<li>625<em>_i</em><em>2/2 - 125</em>_i/2 + exp(x) - 5))⎠ + RootSum⎝161⋅z  + 115⋅z  + 19⋅z + </li>
</ul>
<p>1, Lambda(_i, _i<em>log(-3381</em>_i<strong>4/4 - 3381*_i</strong>3/4 - 625<em>_i</em><em>2/2 - 125</em>_i/2 +</p>
<div class="code"><pre>         <span class="err">⎞</span>
</pre></div>


<p>exp(x) - 5))⎠</p>
<p>In [2]: cancel(risch_integrate(1/(exp(5*x) + exp(x) + 1), x).diff(x))</p>
<p>Out[2]: 
      1    <br>
─────────────
 5⋅x    x  <br>
ℯ    + ℯ  + 1</p>
<p>[/code]</p>
<p>The general definition of the logarithmic part of an integral is a sum over the roots of a polynomial, which must be expressed as a <code>RootSum</code> in the general case.  Previously, <code>RootSum.diff</code> did not work, but thanks to Mateusz, an algorithm for computing exactly the RootSum where the Lambda expression is a rational function was implemented (see <a href="http://mattpap.github.com/scipy-2011-tutorial/html/mathematics.html#summing-roots-of-polynomials" target="_blank">this bit</a> from our SciPy tutorial for an idea on how this works), so now the Risch Algorithm can work with RootSum objects just as well with as an ordinary sum of logarithms.</p>
<p>Also, there was a bug in the square free algorithm in my branch that was fixed in <code>master</code> that was causing wrong results (I don't remember the expression that produced them right now), and also there was a fix by me in <code>master</code> to make <code>is_rational_function()</code> faster, as it was significantly slowing down the calculation of some integrals (for example, <code>risch_integrate(Add(<em>(exp(i</em>x) for i in range(1000))))</code>, which is still slow to calculate, but now it's because of other things).</p>
<p><strong>About big branches</strong></p>
<p>So this merge, along with the poly12 fiasco (which by the way, I think part of the reason git made me do all these merge conflict resolutions was because <code>polys12</code> was rebased from the <code>polys11</code> I had merged into integration3), has shown me very clearly that it is very bad to go off with your own branch and do a lot of work and wait a long time before merging it back into the main repo.</p>
<p>This is what was done with <code>polys12</code>.  Mateusz had a lot of new polynomials code that he developed in one big branch, and when it finally came to merging it back in, it was a mess.  This was for several reasons, which I do not want to discuss too much here, but it became clear to everyone I think that doing this was bad, and that it would have been better to have submitted many changes as pull requests as they were made than keeping them all together in one big branch for a long time.</p>
<p>This model also affected my work, as I had to work off of latest the polys branch, not <code>master</code>, as my work relied heavily on the latest and greatest in the polys.  </p>
<p>Well, with this merge of the main repo into my branch, I see that my branch is starting to become the same way.  I originally thought that I should finish the Risch algorithm before submitting it to be merged into <code>master</code>.  I know know that this is the wrong approach.  Development in <code>master</code> is too fast to keep code away from it for too long.  The divergence makes it more and more difficult to merge back with every time.  Furthermore, there are regressions that were never noticed to be regressions because the code that would have shown them existed only in my branch.  Now I have to fix these, whereas if the code were in <code>master</code>, the regression would have never happened in the first place, because the author would have seen it immediately from the test failures.</p>
<p>I also thought that I should wait to merge because there were so many bugs in my code.  But I see now that this is also wrong.  Merging with <code>master</code> will help me find these bugs, as people will actually use my code.  Sure, I've asked people to try out <code>risch_integrate()</code>, and some people have (and I thank you), but having it in the default <code>integrate()</code> in <code>master</code> will result in finding more bugs in the code than I ever would alone, which is basically the way it is right now with the code living only in my own branch.</p>
<p>I would prepare my code for merging with <code>master</code> today, if it weren't for this <code>exp.subs</code> hack, which causes test failures and is technically a regression, but is required for the preparsing code to the Risch algorithm to work.  This is why I <a href="http://groups.google.com/group/sympy/browse_thread/thread/4a19d0f39f51fda6#" target="_blank">wrote to the list</a> two weeks ago asking for advice on how to structure the substitution code so that we can nicely have various kinds of substitutions (e.g., exact like I need and algebraic like currently exists in <code>exp</code>) living together without cluttering up the code.</p>
<p>Therefore, I am going to focus my energies on fixing this subs problem so I can get my code merged with <code>master</code>.  Then, when this is done, I will continue my work on implementing the remaining cases of the Risch algorithm.  </p>
<p>So let this tale be a warning to people working on a lot of code in a big branch.  This especially applies to our GSoC students, as it's extremely easy to let your code accumulate when you're a GSoC student (technically this branch of mine is a GSoC branch).  I see that some of our students are doing a better job of this than others.  To those who have your code all in one big branch that hasn't been merged, I recommend you ready your branch for merge now.  And in the future, try to break your code up into small but still meaningful chunks and submit those as pull requests.  With git, it's easy to base the code you are currently working on on code that hasn't been merged yet, while still keeping things in small chunks for the pull requests.  </p>
<p>On the other hand, git will only take you so far if you keep everything in a big branch, because there are going to be changes in <code>master</code> that will affect your work, no matter how isolated you think it is, and these are the sorts of things that it is impossible for git to fix for you.  But if your code is in <code>master</code>, it will be supported by everyone, and any major change that affects it will have to fix it. For example, if someone changes a printer and the doctests change, then he will have to change your doctest too if it's in <code>master</code>, but if it's in your branch, then you will have to fix it when you next merge/rebase with/against <code>master</code>.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/07/25/merging-integration3-with-sympy-0-7-0-nightmare.html#disqus_thread" data-disqus-identifier="cache/posts/2011/07/25/merging-integration3-with-sympy-0-7-0-nightmare.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/07/17/the-scipy-2011-conference.html" class="u-url">The SciPy 2011 Conference</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-07-17T16:32:31+00:00">2011-07-17 16:32</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>So this past week, I attended the SciPy 2011 conference in Austin, TX, which was my first conference ever.  Here are some highlights of the conference for me:</p>
<p></p><ul>
    <li>I met a <em>ton</em> of cool people.  This included meeting several people who I had previously known from mailing lists in person for the first time.  I met the SymPy developers Mateusz Paprocki and Andy Terrel, and I also had already known or heard about people like Fernando Perez, Gael Varoquaux, and Robert Kern.  There are a lot of people out there who are excited to be using Python for their research, which is a real refresher from my university, where everyone is using Matlab and Maple.</li>
<div class="code"><pre><span class="nt">&lt;li&gt;</span>Mateusz and I gave a tutorial on SymPy.  This was one of the four introductory track tutorials.  This was a great experience to teach SymPy to people.  You can see the <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://mattpap.github.com/scipy-2011-tutorial/html/index.html"</span><span class="nt">&gt;</span>Sphinx document<span class="nt">&lt;/a&gt;</span> that we used, and there should eventually be a video posted at the <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"http://conference.scipy.org/scipy2011/tutorials.php#mateusz"</span><span class="nt">&gt;</span>SciPy 2011 website<span class="nt">&lt;/a&gt;</span>.<span class="nt">&lt;/li&gt;</span>

<span class="nt">&lt;li&gt;</span>In addition to our tutorial, I attended some of the other tutorials.  I particularly enjoyed the NumPy tutorial. Having never used NumPy before, I now feel comfortable with the basics.  I also attended Gael Varoquaux's tutorial on scikits.learn and Corran Webster's tutorial on Matplotlib, Traits, and Chaco. My only regret is that the advanced track and introductory track tutorials were held at the same time, so I could not attend half of them.  I plan to watch the ones I missed online.<span class="nt">&lt;/li&gt;</span>

<span class="nt">&lt;li&gt;</span>The general conference was excellent.  Some of the talks that I particularly enjoyed were:
</pre></div>


<p></p><ul><li>The keynotes.  I found Eric Jone's keynote particularly relevant as the leader of SymPy, as he talked about some of the good things to do and bad things to not do when leading a scientific project.  I also enjoyed Perry Greenfield's talk about how the astronomy community moved from some old proprietary system to Python.</li>
    <li>Mateusz gave a talk on his <a href="http://lab.femhub.org/">FEMhub online lab</a>, which a was very impressive system for using Python entirely in the web browser.</li>
    <li>By far the best talk of the entire conference was Fernando Perez's talk on the new IPython 0.11, which will be coming out in about a week or so.  His demo of the new features such as the QT console and html notebook were very impressive.  If you want to watch just one video from the conference, I would recommend that one.</li>
    <li>Mark Dewing gave a talk about a system he wrote using SymPy to do automated derivation of equations.  The system is impressive, and contains some features that would be nice to backport to SymPy.  He told me that he wants to do this, so follow the mailing list.  You can see what he has so far on his <a href="https://github.com/markdewing/sympy/tree/derivation_modeling">derivation_modeling</a> branch at GitHub.</li>
    <li>The lightning talks.  These are very short talks at the end of the conference that are only five minutes long.  In addition to many interesting talks, both Mateusz and I gave a lightning talk. Mateusz gave a talk on <a href="http://live.sympy.org/">SymPy Live</a>, which he recently improved to do things like give LaTeX output, and I gave a talk on my work with the Risch algorithm.  I would also highly recommend watch this talk once they post the videos.</li>
    <li>Again, regrettably, I could not attend half of the talks because they were held at the same time.  Fortunately, they filmed all of them, so I hope to watch them all online when they are posted (and I recommend that you do too).</li></ul>
    
<div class="code"><pre><span class="nt">&lt;li&gt;</span>The sprints were a great time for getting together and hacking together.  I worked with Min Ragan-Kelley to make isympy work with the new IPython.  Having fixed this, I now want to release 0.7.1 very soon, so I used some of the time during the sprints getting ready for that.  We already have <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://github.com/sympy/sympy/wiki/Release-Notes-for-0.7.1"</span><span class="nt">&gt;</span>preliminary release notes<span class="nt">&lt;/a&gt;</span>, and my hope is to create a release candidate on Monday (tomorrow).  I also finished up my <span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">"https://github.com/sympy/sympy/pull/491"</span><span class="nt">&gt;</span>MathJax branch<span class="nt">&lt;/a&gt;</span> and finished reviewing and pushed in Tom's first GSoC pull request, which has a lot of really cool stuff relating to converting hypergeometric functions and Meijer G-functions into standard elementary functions.  This will all be in the release.
</pre></div>


<p>Also at the sprints, Mateusz worked on an extension for our Sphinx docs that puts a SymPy Live console right in the docs.  You can then click on "evaluate" next to any of the code examples, and it will run it in SymPy live.  And of course, you can then edit it and play around with it.  He already had a working version of this by the end of the sprints (with a few bugs still), but I don't think he has pushed it to GitHub yet.  I think this is going to be a landmark change for our documentation.  SymPy Live runs on the App Engine, so this approach can be applied to any library that can run in pure Python 2.5, and I think a lot of such projects are going to be jealous this and want to start using it, because it's very impressive and useful.</p>
<p>We also had a couple of people from the conference come to our table and work on SymPy.  These were people who were new to SymPy, and I think attended our tutorial.  One of them, Emma Hogan, worked a little bit on improving our documentation, and has submitted a <a href="https://github.com/sympy/sympy/pull/490">pull request</a>.</p>


<div class="code"><pre><span class="nt">&lt;li&gt;</span>Austin, TX is a nice city with lots of fun places to go, but it is also very humid, which is something I could barely stand (I am used to the same heat, but in Albuquerque it is dry heat).  One interesting thing that some of us went and saw was the bats.  The bridge over this lake in Austin has over a million bats living under it, and at night they all fly out to feed.  <span class="nt">&lt;/li&gt;</span>
</pre></div>


</ul>

<p>There's all kinds of fun and interesting stuff that happened that I did not mention here.  If you are interested in science and Python, I would highly recommend attending a future SciPy conference.  </p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/07/17/the-scipy-2011-conference.html#disqus_thread" data-disqus-identifier="cache/posts/2011/07/17/the-scipy-2011-conference.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/29/sympy-0-7-0-released.html" class="u-url">SymPy 0.7.0 released</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-06-29T08:00:38+00:00">2011-06-29 08:00</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><em>Cross posted on the <a href="http://sympy.blogspot.com/2011/06/sympy-070-released.html" target="_blank">official SymPy blog</a></em>
<p>SymPy 0.7.0 has been released on June 28, 2011.  <span class="Apple-style-span" style="font-family:'Trebuchet MS', Verdana, Arial, sans-serif;font-size:13px;color:rgb(51,51,51);line-height:18px;">It is available at<br><a href="http://sympy.org/" style="color:rgb(34,85,136);"><br>http://sympy.org</a><br><br>The source distribution can be downloaded from:<br><a href="http://sympy.googlecode.com/files/sympy-0.6.6.tar.gz" style="color:rgb(34,85,136);">http://sympy.googlecode.com/files/sympy-0.6.7.tar.gz</a><br><br>You can get the Windows installer here:<br><a href="http://sympy.googlecode.com/files/sympy-0.6.6.win32.exe" style="color:rgb(34,85,136);">http://sympy.googlecode.com/files/sympy-0.6.7.win32.exe</a><br><br>And the html documentation here:<br><a href="http://sympy.googlecode.com/files/sympy-0.6.6-docs-html.zip" style="color:rgb(34,85,136);">http://sympy.googlecode.com/files/sympy-0.6.7-docs-html.zip</a></span></p><div><br></div><div><span class="Apple-style-span" style="font-family:'Trebuchet MS', Verdana, Arial, sans-serif;font-size:13px;color:rgb(51,51,51);line-height:18px;"><span style="font-weight:bold;font-size:16px;">About SymPy</span><br><br>SymPy is a Python library for symbolic mathematics. It aims to become a full-featured computer algebra system (CAS) while keeping the code as simple as possible in order to be comprehensible and easily extensible. SymPy is written entirely in Python.<br><span style="font-size:16px;"><span class="Apple-style-span" style="font-size:13px;"><span style="font-size:16px;"><span style="font-weight:bold;"><br></span></span></span></span></span></div><div><span class="Apple-style-span" style="font-family:'Trebuchet MS', Verdana, Arial, sans-serif;font-size:13px;color:rgb(51,51,51);line-height:18px;"><span style="font-size:16px;"><span class="Apple-style-span" style="font-size:13px;"><span style="font-size:16px;"><span style="font-weight:bold;">Changes since last stable release</span></span><br></span></span></span></div><div><span class="Apple-style-span" style="font-family:helvetica, arial, freesans, clean, sans-serif;font-size:6px;"><span class="Apple-style-span" style="font-size:22px;"><b><span class="Apple-style-span" style="font-family:'Trebuchet MS', Verdana, Arial, sans-serif;font-weight:normal;font-size:13px;color:rgb(51,51,51);line-height:18px;"><br></span></b></span></span></div><div><span class="Apple-style-span" style="font-family:helvetica, arial, freesans, clean, sans-serif;font-size:6px;"><span class="Apple-style-span" style="font-size:22px;"><b><span class="Apple-style-span" style="font-family:'Trebuchet MS', Verdana, Arial, sans-serif;font-weight:normal;font-size:13px;color:rgb(51,51,51);line-height:18px;">(from <a href="https://github.com/sympy/sympy/wiki/Release-Notes-for-0.7.0">https://github.com/sympy/sympy/wiki/Release-Notes-for-0.7.0</a>)</span></b></span></span></div><div><span class="Apple-style-span" style="font-family:'Trebuchet MS', Verdana, Arial, sans-serif;color:rgb(51,51,51);line-height:18px;"><b><span class="Apple-style-span" style="color:rgb(0,0,0);font-family:helvetica, arial, freesans, clean, sans-serif;font-weight:normal;line-height:23px;font-size:14px;"><h3 style="line-height:normal;border-top-width:4px;border-top-style:solid;border-top-color:rgb(204,204,204);font-size:22px;display:inline!important;margin:22px 0 0;padding:7px 0 0;"><br></h3></span></b></span></div><div><span class="Apple-style-span" style="font-family:'Trebuchet MS', Verdana, Arial, sans-serif;color:rgb(51,51,51);line-height:18px;"><b><span class="Apple-style-span" style="color:rgb(0,0,0);font-family:helvetica, arial, freesans, clean, sans-serif;font-weight:normal;line-height:23px;font-size:14px;"><h3 style="line-height:normal;border-top-width:4px;border-top-style:solid;border-top-color:rgb(204,204,204);font-size:22px;display:inline!important;margin:22px 0 0;padding:7px 0 0;">Backwards compatibility breaks</h3></span></b></span></div><div><span class="Apple-style-span" style="font-family:'Trebuchet MS', Verdana, Arial, sans-serif;color:#333333;"><span class="Apple-style-span" style="line-height:18px;"><b><span class="Apple-style-span" style="color:rgb(0,0,0);font-family:helvetica, arial, freesans, clean, sans-serif;font-weight:normal;line-height:23px;font-size:14px;"><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">This will be the last release of SymPy to support Python 2.4. Dropping support for Python 2.4 will let us move forward with things like supporting Python 3, and will let us use things that were introduced in Python 2.5, like with-statement context managers.</li><li style="line-height:1.4em;margin:0;padding:0;">no longer support creating matrices without brackets (see: issue 930)</li><li style="line-height:1.4em;margin:0;padding:0;">Renamed <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sum()</code> to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">summation()</code> (see: 3e763a8, issues 1376, 1727). This was changed so that it no longer overrides the built-in <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sum()</code>. The unevaluated summation is still called <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Sum()</code>.</li><li style="line-height:1.4em;margin:0;padding:0;">Renamed <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">abs()</code> to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Abs()</code> (see: 64a12a4, issue 1727). This was also changed so that it no longer overrides the built-in <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">abs()</code>. Note that because of <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;"><strong>abs</strong></code> magic, you can still do <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">abs(expr)</code> with the built-in <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">abs()</code>, and it will return <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Abs(expr)</code>.</li><li style="line-height:1.4em;margin:0;padding:0;">Renamed <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">max_()</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">min_()</code> to now <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Max()</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Min()</code> (see: 99a271e, issue 2153)</li><li style="line-height:1.4em;margin:0;padding:0;">Changed behaviour of <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">symbols()</code>. <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">symbols('xyz')</code> gives now a single symbol (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">'xyz'</code>), not three (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">'x'</code>, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">'y'</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">'z'</code>) (see: f6452a8). Use<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">symbols('x,y,z')</code> or <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">symbols('x y z')</code> to get three symbols. The 'each_char' option will still work but is being deprecated.</li><li style="line-height:1.4em;margin:0;padding:0;">Split class <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Basic</code> into new classes <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Expr</code>, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Boolean</code> (see: a0ab479, 635d89c). Classes that are designed to be part of standard symbolic expressions (like <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">x<strong>2<em>sin(x)</em></strong></code>) should subclass from <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Expr</code>. More generic objects that do not work in symbolic expressions but still want the basic SymPy structure like <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">.args</code> and basic methods like <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">.subs()</code> should only subclass from <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Basic</code>.</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">as_basic()</code> method was renamed to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">as_expr()</code> to reflect changes in the core (see: e61819d, 80dfe91)</li><li style="line-height:1.4em;margin:0;padding:0;">Methods <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">as_coeff_terms</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">as_coeff_factors</code> were renamed to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">as_coeff_mul</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">as_coeff_add</code>, respectively.</li><li style="line-height:1.4em;margin:0;padding:0;">Removed the <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">trim()</code> function. The function is redundant with the new polys (see below). Use the <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">cancel()</code> function instead.</li></ul><h3 style="line-height:normal;border-top-width:4px;border-top-style:solid;border-top-color:rgb(204,204,204);font-size:22px;margin:22px 0 0;padding:7px 0 0;">Major Changes</h3><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Polys</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">New internal representations of dense and sparse polynomials (see: 6aecdb7, 31c9aa4)</li><li style="line-height:1.4em;margin:0;padding:0;">Implemented algorithms for real and complex root isolation and counting (see: 3acac67, 4b75dae, fa1206e, 103b928, 45c9b22, 8870c8b, b348b30)</li><li style="line-height:1.4em;margin:0;padding:0;">Improved Gröbner bases algorithm (see: ff65e9f, 891e4de, 310a585)</li><li style="line-height:1.4em;margin:0;padding:0;">Field isomorphism algorithm (see: b097b01, 08482bf)</li><li style="line-height:1.4em;margin:0;padding:0;">Implemented efficient orthogonal polynomials (see: b8fbd59)</li><li style="line-height:1.4em;margin:0;padding:0;">Added configuration framework for polys (see: 33d8cdb, 7eb81c9)</li><li style="line-height:1.4em;margin:0;padding:0;">Function for computing minimal polynomials (see: 88bf187, f800f95)</li><li style="line-height:1.4em;margin:0;padding:0;">Function for generating Viete's formulas (see: 1027408)</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">roots()</code> supports more classes of polynomials (e.g. cyclotomic) (see: d8c8768, 75c8d2d)</li><li style="line-height:1.4em;margin:0;padding:0;">Added a function for recognizing cyclotomic polynomials (see: b9c2a9a)</li><li style="line-height:1.4em;margin:0;padding:0;">Added a function for computing Horner form of polynomials (see: 8d235c7)</li><li style="line-height:1.4em;margin:0;padding:0;">Added a function for computing symmetric reductions of polynomials (see: 6d560f3)</li><li style="line-height:1.4em;margin:0;padding:0;">Added generators of Swinnerton-Dyer, cyclotomic, symmetric, random and interpolating polynomials (see: dad03dd, 6ccf20c, dc728d6, 2f17684, 3004db8)</li><li style="line-height:1.4em;margin:0;padding:0;">Added a function computing isolation intervals of algebraic numbers (see: 37a58f1)</li><li style="line-height:1.4em;margin:0;padding:0;">Polynomial division (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">div()</code>, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">rem()</code>, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">quo()</code>) now defaults to a field (see: a72d188)</li><li style="line-height:1.4em;margin:0;padding:0;">Added wrappers for numerical root finding algorithms (see: 0d98945, f638fcf)</li><li style="line-height:1.4em;margin:0;padding:0;">Added symbolic capabilities to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">factor()</code>, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sqf()</code> and related functions (see: d521c7f, 548120b, f6f74e6, b1c49cd, 3527b64)</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">together()</code> was significantly improved (see: dc327fe)</li><li style="line-height:1.4em;margin:0;padding:0;">Added support for iterable containers to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">gcd()</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">lcm()</code> (see: e920870)</li><li style="line-height:1.4em;margin:0;padding:0;">Added a function for constructing domains from coefficient containers (see: a8f20e6)</li><li style="line-height:1.4em;margin:0;padding:0;">Implemented greatest factorial factorization (see: d4dbbb5)</li><li style="line-height:1.4em;margin:0;padding:0;">Added partial fraction decomposition algorithm based on undetermined coefficient approach (see: 9769d49, 496f08f)</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">RootOf</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">RootSum</code> were significantly improved (see: f3e432, 4c88be6, 41502d7)</li><li style="line-height:1.4em;margin:0;padding:0;">Added support for gmpy (GNU Multiple Precision Arithmetic Library) (see: 38e1683)</li><li style="line-height:1.4em;margin:0;padding:0;">Allow to compile <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.polys</code> with Cython (see: afb3886)</li><li style="line-height:1.4em;margin:0;padding:0;">Improved configuration of variables in <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Poly</code> (see: 22c4061)</li><li style="line-height:1.4em;margin:0;padding:0;">Added documentation based on Wester's examples (see: 1c23792)</li><li style="line-height:1.4em;margin:0;padding:0;">Irreducibility testing over finite fields (see: 17e8f1f)</li><li style="line-height:1.4em;margin:0;padding:0;">Allow symmetric and non-symmetric representations over finite fields (see: 60fbff4)</li><li style="line-height:1.4em;margin:0;padding:0;">More consistent factorization forms from <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">factor()</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sqf()</code> (see: 5df77f5)</li><li style="line-height:1.4em;margin:0;padding:0;">Added support for automatic recognition algebraic extensions (see: 7de602c)</li><li style="line-height:1.4em;margin:0;padding:0;">Implemented Collins' modular algorithm for computing resultants (see: 950969b)</li><li style="line-height:1.4em;margin:0;padding:0;">Implemented Berlekamp's algorithm for factorization over finite fields (see: 70353e9)</li><li style="line-height:1.4em;margin:0;padding:0;">Implemented Trager's algorithm for factorization over algebraic number fields (see: bd0be06)</li><li style="line-height:1.4em;margin:0;padding:0;">Improved Wang's algorithm for efficient factorization of multivariate polynomials (see: 425e225)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Quantum</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Symbolic, abstract dirac notation in <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum</code>. This includes operators, states (bras and kets), commutators, anticommutators, dagger, inner products, outer products, tensor products and Hilbert spaces</li><li style="line-height:1.4em;margin:0;padding:0;">Symbolic quantum computing framework that is based on the general capabilities in <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum</code>. This includes qubits (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum.qubit</code>), gates (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum.gate</code>), Grover's algorithm (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum.grover</code>), the quantum Fourier transform (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum.qft</code>), Shor's algorithm (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum.shor</code>) and circuit plotting (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum.circuitplot</code>)</li><li style="line-height:1.4em;margin:0;padding:0;">Second quantization framework that inclues creation/anihilation operators for both Fermions and Bosons and Wick's theorem for Fermions (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.secondquant</code>).</li><li style="line-height:1.4em;margin:0;padding:0;">Symbolic quantum angular momentum (spin) algebra (<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.physics.quantum.spin</code>)</li><li style="line-height:1.4em;margin:0;padding:0;">Hydrogen wave functions (Schroedinger) and energies (both Schroedinger and Dirac)</li><li style="line-height:1.4em;margin:0;padding:0;">Wave functions and energies for 1D harmonic oscillator</li><li style="line-height:1.4em;margin:0;padding:0;">Wave functions and energies for 3D spherically symmetric harmonic oscillator</li><li style="line-height:1.4em;margin:0;padding:0;">Wigner and Clebsch Gordan coefficients</li></ul><h3 style="line-height:normal;border-top-width:4px;border-top-style:solid;border-top-color:rgb(204,204,204);font-size:22px;margin:22px 0 0;padding:7px 0 0;">Everything else</h3><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Implement symarray, providing numpy nd-arrays of symbols.</li><li style="line-height:1.4em;margin:0;padding:0;">update mpmath to 0.16</li><li style="line-height:1.4em;margin:0;padding:0;">Add a tensor module (see: <a href="http://code.google.com/p/sympy/wiki/CodeGenerationReport" style="line-height:1.4em;color:rgb(65,131,196);text-decoration:none;outline-style:none;outline-width:initial;outline-color:initial;margin:0;padding:0;">http://code.google.com/p/sympy/wiki/CodeGenerationReport</a>)</li><li style="line-height:1.4em;margin:0;padding:0;">A lot of stuff was being imported with <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">from sympy import </code> that shouldn't have been (like <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sys</code>). This has been fixed.</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Assumptions:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Refine</li><li style="line-height:1.4em;margin:0;padding:0;">Added predicates (see: 7c0b857, 53f0e1a, d1dd6a3..)</li><li style="line-height:1.4em;margin:0;padding:0;">Added query handlers for algebraic numbers (see: f3bee7a)</li><li style="line-height:1.4em;margin:0;padding:0;">Implement a SAT solver (see: <a href="http://code.google.com/p/sympy/wiki/SuperchargingAssumptionsReport" style="line-height:1.4em;color:rgb(65,131,196);text-decoration:none;outline-style:none;outline-width:initial;outline-color:initial;margin:0;padding:0;">http://code.google.com/p/sympy/wiki/SuperchargingAssumptionsReport</a>, 2d96329, acfbe75, etc.)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Concrete</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Finalized implementation of Gosper's algorithm (see: 0f187e5, 5888024)</li><li style="line-height:1.4em;margin:0;padding:0;">Removed redundant <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Sum2</code> and related classes (see: ef1f6a7)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Core:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Split <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Atom</code> into <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Atom</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">AtomicExpr</code> (see: 965aa91)</li><li style="line-height:1.4em;margin:0;padding:0;">Various <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympify()</code> improvements</li><li style="line-height:1.4em;margin:0;padding:0;">Added functionality for action verbs (many functions can be called both as global functions and as methods e.g. <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">a.simplify() == simplify(a)</code>)</li><li style="line-height:1.4em;margin:0;padding:0;">Improve handling of rational strings (see: 053a045, issue 1778)</li><li style="line-height:1.4em;margin:0;padding:0;">Major changes to factoring of integers (see: 273f450, issue 2003)</li><li style="line-height:1.4em;margin:0;padding:0;">Optimized <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">.has()</code> (see: c83c9b0, issue 1980; d86d08f)</li><li style="line-height:1.4em;margin:0;padding:0;">Improvements to power (see: c8661ef, issue 1963)</li><li style="line-height:1.4em;margin:0;padding:0;">Added range and lexicographic syntax to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">symbols()</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">var()</code> (see: f6452a8, 9aeb220, 957745a)</li><li style="line-height:1.4em;margin:0;padding:0;">Added <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">modulus</code> argument to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">expand()</code> (see: 1ea5be8)</li><li style="line-height:1.4em;margin:0;padding:0;">Allow to convert <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Interval</code> to relational form (see: 4c269fe)</li><li style="line-height:1.4em;margin:0;padding:0;">SymPy won't manipulate minus sign of expressions any more (see: 6a26941, 9c6bf0f, e9f4a0a)</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Real</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">.is_Real</code> were renamed to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Float</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">.is_Float</code>. <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Real</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">.is_Real</code> still remain as deprecated shortcuts to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Float</code> and<code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">is_Float</code> for backwards compatibility. (see: abe1c49)</li><li style="line-height:1.4em;margin:0;padding:0;">Methods coeff and as_coefficient are now non-commutative aware. (see a4ea170)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Geometry:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Various improvements to Ellipse</li><li style="line-height:1.4em;margin:0;padding:0;">Updated documentation to numpy standard</li><li style="line-height:1.4em;margin:0;padding:0;">Polygon and Line improvements</li><li style="line-height:1.4em;margin:0;padding:0;">Allow all geometry objects to accept a tuple as <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">Point</code> args</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Integrals:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Various improvements (see eg. issues 1772, 1999, 1992, 1987.. etc)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">isympy</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Fixed the <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">-p</code> switch (see: e8cb04a)</li><li style="line-height:1.4em;margin:0;padding:0;">Caching can be disabled using <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">-C</code> switch (see: 0d8d748)</li><li style="line-height:1.4em;margin:0;padding:0;">Ground types can be set using <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">-t</code> switch (see: 75734f8)</li><li style="line-height:1.4em;margin:0;padding:0;">Printing ordering can be set using <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">-o</code> switch (see: fcc6b13, 4ec9dc5)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Logic</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">implies object adheres to negative normal form</li><li style="line-height:1.4em;margin:0;padding:0;">Create new boolean class, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">logic.boolalg.Boolean</code></li><li style="line-height:1.4em;margin:0;padding:0;">Added XOR operator (^) support</li><li style="line-height:1.4em;margin:0;padding:0;">Added If-then-else (ITE) support</li><li style="line-height:1.4em;margin:0;padding:0;">Added the dpll algorithm</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Functions:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Added Piecewise, B-splines</li><li style="line-height:1.4em;margin:0;padding:0;">Spherical Bessel function of the second kind implemented</li><li style="line-height:1.4em;margin:0;padding:0;">Add series expansions of multivariate functions (see: d4d351d)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Matrices:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Add elementwise product (Hadamard product)</li><li style="line-height:1.4em;margin:0;padding:0;">Extended QR factorization for general full ranked mxn matrices</li><li style="line-height:1.4em;margin:0;padding:0;">Remove deprecated functions <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">zero()</code>, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">zeronm()</code>, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">one()</code> (see: 5da0884)</li><li style="line-height:1.4em;margin:0;padding:0;">Added cholesky and LDL factorizations, and respective solves.</li><li style="line-height:1.4em;margin:0;padding:0;">Added functions for efficient triangular and diagonal solves.</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">SMatrix</code> was renamed to <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">SparseMatrix</code> (see: acd1685)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Physics</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">See the Quantum section</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Printing:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Implemented pretty printing of binomials (see: 58c1dad)</li><li style="line-height:1.4em;margin:0;padding:0;">Implemented pretty printing of Sum() (see: 84f2c22, 95b4321)</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">sympy.printing</code> now supports ordering of terms and factors (see: 859bb33)</li><li style="line-height:1.4em;margin:0;padding:0;">Lexicographic order is now the default. Now finally things will print as <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">x2 + x + 1</code> instead of <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">1 + x + x<strong>2</strong></code>, however series still print using reversed ordering, e.g. <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">x - x3/6 + O(x<em><em>5)</em></em></code>. You can get the old order (and other orderings) by setting the <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">-o</code> option to isympy (see: 08b4932, a30c5a3)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Series:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Implement a function to calculate residues, <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">residue()</code></li><li style="line-height:1.4em;margin:0;padding:0;">Implement nseries and lseries to handle <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">x0 != 0</code>, series should be more robust now (see: 2c99999, issues 2122-2124)</li><li style="line-height:1.4em;margin:0;padding:0;">Improvements to Gruntz algorithm</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Simplify:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Added <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">use()</code> (see: 147c142)</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">ratsimp()</code> now uses <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">cancel()</code> and <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">reduced()</code> (see: 108fb41)</li><li style="line-height:1.4em;margin:0;padding:0;">Implemented EPath (see: 696139d, bf90689)</li><li style="line-height:1.4em;margin:0;padding:0;">a new keyword <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">rational</code> was added to nsimplify which will replace Floats with Rational approximations. (see: 053a045)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Solvers:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">ODE improvements (see: d12a2aa, 3542041; 73fb9ac)</li><li style="line-height:1.4em;margin:0;padding:0;">Added support for solving inequalities (see: 328eaba, 8455147, f8fcaa7)</li></ul><h4 style="line-height:26px;font-size:16px;margin:0;padding:26px 0 0;">Utilities:</h4><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Improve cartes, for generating the Cartesian product (see: b1b10ed)</li><li style="line-height:1.4em;margin:0;padding:0;">Added a function computing topological sort of graphs (see: b2ce27b)</li><li style="line-height:1.4em;margin:0;padding:0;">Allow to setup a customized printer in <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">lambdify()</code> (see: c1ad905)</li><li style="line-height:1.4em;margin:0;padding:0;"><code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">flatten()</code> was significantly improved (see: 31ed8d7)</li><li style="line-height:1.4em;margin:0;padding:0;">Major improvements to the Fortran code generator (see: <a href="http://code.google.com/p/sympy/wiki/CodeGenerationReport" style="line-height:1.4em;color:rgb(65,131,196);text-decoration:none;outline-style:none;outline-width:initial;outline-color:initial;margin:0;padding:0;">http://code.google.com/p/sympy/wiki/CodeGenerationReport</a>, 3383aa3, 7ab2da2, etc.)</li></ul><p style="line-height:1.4em;margin:16px 0 0;padding:0;">In addition to the more noticeable changes listed above, there have been numerous other smaller additions, improvements and bug fixes in the ~2000 commits in this release. See the git log for a full list of all changes. The command <code style="font:normal normal normal 12px/normal 'Bitstream Vera Sans Mono', Courier, monospace;line-height:1.4em;background-color:rgb(248,248,248);font-size:13px;border-top-left-radius:3px 3px;border-top-right-radius:3px 3px;border-bottom-right-radius:3px 3px;border-bottom-left-radius:3px 3px;border-color:rgb(222,222,222);border-style:solid;border-width:1px;margin:0;padding:0;">git log sympy-0.6.7..sympy-0.7.0</code> will show all commits made between this release and the last. You can also see the issues closed since the last release <a href="http://code.google.com/p/sympy/issues/list?can=1&amp;q=closed-after%3A2010%2F3%2F17+closed-before%3A2011%2F6%2F13&amp;sort=-closed&amp;colspec=ID+Type+Status+Priority+Milestone+Owner+Summary+Stars+Closed&amp;cells=tiles" style="line-height:1.4em;color:rgb(65,131,196);text-decoration:none;outline-style:none;outline-width:initial;outline-color:initial;margin:0;padding:0;">here</a>.</p><h3 style="line-height:normal;border-top-width:4px;border-top-style:solid;border-top-color:rgb(204,204,204);font-size:22px;margin:22px 0 0;padding:7px 0 0;">Authors</h3><p style="line-height:1.4em;margin:16px 0 0;padding:0;">The following people contributed at least one patch to this release (names are given in alphabetical order by last name). A total of 64 people contributed to this release. People with a * by their names contributed a patch for the first time for this release. Thirty-seven people contributed for the first time for this release. Over half of the people who contributed to this release contributed for the first time!</p><p style="line-height:1.4em;margin:16px 0 0;padding:0;">Thanks to everyone who contributed to this release!</p><ul style="line-height:1.4em;margin:0 0 0 1.5em;padding:20px 0 0;"><li style="line-height:1.4em;margin:0;padding:0;">Tom Bachmann</li><li style="line-height:1.4em;margin:0;padding:0;">Tomas Bambas</li><li style="line-height:1.4em;margin:0;padding:0;">Matthew Brett<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Ondřej Čertík</li><li style="line-height:1.4em;margin:0;padding:0;">Renato Coutinho</li><li style="line-height:1.4em;margin:0;padding:0;">Addison Cugini</li><li style="line-height:1.4em;margin:0;padding:0;">Matt Curry<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Raffaele De Feo</li><li style="line-height:1.4em;margin:0;padding:0;">Mark Dewing</li><li style="line-height:1.4em;margin:0;padding:0;">Thomas Dixon<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Harold Erbin</li><li style="line-height:1.4em;margin:0;padding:0;">Pavel Fedotov</li><li style="line-height:1.4em;margin:0;padding:0;">Gilbert Gede<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Oleksandr Gituliar</li><li style="line-height:1.4em;margin:0;padding:0;">Brian Granger</li><li style="line-height:1.4em;margin:0;padding:0;">Alexey U. Gudchenko<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Øyvind Jensen</li><li style="line-height:1.4em;margin:0;padding:0;">Fredrik Johansson</li><li style="line-height:1.4em;margin:0;padding:0;">Felix Kaiser</li><li style="line-height:1.4em;margin:0;padding:0;">Yuri Karadzhov</li><li style="line-height:1.4em;margin:0;padding:0;">Gary Kerr<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Kibeom Kim</li><li style="line-height:1.4em;margin:0;padding:0;">Nicholas J.S. Kinar<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Anatolii Koval</li><li style="line-height:1.4em;margin:0;padding:0;">Sebastian Krämer</li><li style="line-height:1.4em;margin:0;padding:0;">Ryan Krauss</li><li style="line-height:1.4em;margin:0;padding:0;">Gregory Ksionda<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Priit Laes</li><li style="line-height:1.4em;margin:0;padding:0;">Vladimir Lagunov</li><li style="line-height:1.4em;margin:0;padding:0;">Ronan Lamy</li><li style="line-height:1.4em;margin:0;padding:0;">Tomo Lazovich</li><li style="line-height:1.4em;margin:0;padding:0;">Saptarshi Mandal<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">David Marek</li><li style="line-height:1.4em;margin:0;padding:0;">Jack McCaffery</li><li style="line-height:1.4em;margin:0;padding:0;">Benjamin McDonald<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Aaron Meurer</li><li style="line-height:1.4em;margin:0;padding:0;">Christian Muise</li><li style="line-height:1.4em;margin:0;padding:0;">Óscar Nájera<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Jezreel Ng</li><li style="line-height:1.4em;margin:0;padding:0;">Sherjil Ozair<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Mateusz Paprocki</li><li style="line-height:1.4em;margin:0;padding:0;">James Pearson</li><li style="line-height:1.4em;margin:0;padding:0;">Fernando Perez</li><li style="line-height:1.4em;margin:0;padding:0;">Vladimir Perić</li><li style="line-height:1.4em;margin:0;padding:0;">Mario Pernici<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Nicolas Pourcelot</li><li style="line-height:1.4em;margin:0;padding:0;">rayman</li><li style="line-height:1.4em;margin:0;padding:0;">Matthew Rocklin<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Christian Schubert</li><li style="line-height:1.4em;margin:0;padding:0;">Andre de Fortier Smit</li><li style="line-height:1.4em;margin:0;padding:0;">Chris Smith</li><li style="line-height:1.4em;margin:0;padding:0;">Cristóvão Sousa<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Akshay Srinivasan</li><li style="line-height:1.4em;margin:0;padding:0;">Vinzent Steinberg</li><li style="line-height:1.4em;margin:0;padding:0;">Prafullkumar P. Tale</li><li style="line-height:1.4em;margin:0;padding:0;">Andy R. Terrel</li><li style="line-height:1.4em;margin:0;padding:0;">Kazuo Thow<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Toon Verstraelen</li><li style="line-height:1.4em;margin:0;padding:0;">Sean Vig</li><li style="line-height:1.4em;margin:0;padding:0;">Luca Weihs<em></em></li><li style="line-height:1.4em;margin:0;padding:0;">Thomas Wiecki</li><li style="line-height:1.4em;margin:0;padding:0;">Shai 'Deshe' Wyborski</li><li style="line-height:1.4em;margin:0;padding:0;">Jeremias Yehdegho*</li></ul></span></b></span></span></div></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/29/sympy-0-7-0-released.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/29/sympy-0-7-0-released.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/24/import_module-the-hopefully-last-fix-for-0-7-0.html" class="u-url">import_module (the (hopefully) last fix for 0.7.0)</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-06-24T06:59:22+00:00">2011-06-24 06:59</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>So everything seemed to be ready to go for the 0.7.0 release, when someone <a href="https://groups.google.com/d/topic/sympy/9FOPjxC0D6s/discussion" target="_blank">pointed out</a> a test failure in Python 2.5.  </p>
<p>It turned out that there is a bug in numpy (see the <a href="http://projects.scipy.org/numpy/ticket/1872" target="_blank">numpy issue page</a> for more information), that was causing the quantum module to fail entirely when imported in Python 2.5 with numpy installed.</p>
<p>Because there was no easy way around the bug, the solution was to disable numpy completely in Python 2.5 in the quantum module.  But this entailed writing the following code idiom</p>
<p>[code language="python"]</p>
<p>import sys</p>
<p>import warnings</p>
<p>numpy_supported = True</p>
<p>if sys.version_info &lt; (2, 6):
    warnings.warn("Cannot use numpy in Python 2.4/2.5.")
    numpy_supported = False
else:
    try:
        import numpy as np
    except ImportError:
        numpy_supported = False
[/code]</p>
<p>in all the half dozen files that import numpy in the quantum module.  </p>
<p>So clearly, SymPy needed a more centralized way to handle importing optional external modules.  Hence, I wrote the <code>import_module()</code> function.  The function attempts to import a module given it's name. It returns the module if it can be imported and None if it cannot.  It supports checking the version of Python or the version of the library and not importing it if either are too old.  It also supports emitting warnings when the module is not available or the version is too old.  Thus, the above idiom reduces to</p>
<p>[code language="python"]</p>
<p>from sympy.external import import_module</p>
<p>np = import_module('numpy', min_python_version=(2, 6))</p>
<p>[/code]</p>
<p>And that's it. The function will automatically warn if numpy cannot be imported because the Python version is too old.</p>
<p>Any kind of <code>numpy_supported</code> variable in the code can be replaced by testing the <code>np</code> variable itself, like</p>
<p>[code language="python"]</p>
<p>if np:
    # Do some numpy stuff
else:
    # np is None
    # Do whatever you do when it is not available
[/code]</p>
<p>This method has an additional advantage, which is that the warnings can be customized by setting variable hooks.  So, for example, the test runner can disable all warnings by doing</p>
<p>[code language="python"]</p>
<p>import sympy.external</p>
<p>sympy.external.importtools.WARN_OLD_VERSION = False</p>
<p>sympy.external.importtools.WARN_NOT_INSTALLED = False</p>
<p>[/code]</p>
<p>I actually did make the test runner do this, and also set both to True when the <code>SYMPY_DEBUG</code> environment variable is set to True (by default, <code>WARN_NOT_INSTALLED</code> is False and <code>WARN_OLD_VERSION</code> is True).</p>
<p>There are some caveats.  First, note that the function does it's magic using the built-in <code><strong>import</strong>()</code> function.  To import a submodule (like <code>sympy.quantum</code>), you need to pass some stuff to the <code>fromlist</code> argument of <code><strong>import</strong>()</code>.  It's also a good idea to pass names to this if you plan to replicate <code>from module import stuff</code> (instead of just <code>import module</code>), because some modules use lazy importing and other magic that prevent you from accessing names directly from <code>module.stuff</code> without importing <code>stuff</code> first.</p>
<p>To do this, just pass the arguments to <code><strong>import</strong>()</code> to <code>import_module()</code> using the <code><strong>import</strong>kwargs</code> keyword argument, like</p>
<p>[code language="python"]</p>
<p>from sympy.external import import_module</p>
<h2>Do this instead of "from matplotlib import pyplot" or "import matplotlib.pyplot as pyplot"</h2>
<p>matplotlib = import_module('matplotlib', <strong>import</strong>kwargs={'fromlist':['pyplot']})</p>
<p>pyplot = matplotlib.pyplot</p>
<p>[/code]</p>
<p>Second, for module version checking it looks at <code>module.<strong>version</strong></code>.  Some modules use a different method (for example, gmpy).  You can use the other method by passing the proper arguments to <code>import_module()</code>.  For example, versions of gmpy lower than 1.03 have a bug that prevent its use in SymPy (basically, <code>int(large mpz)</code> did not automatically convert the number to a <code>long</code>).  So to import gmpy, but only if it's version 1.03 or newer, you would use</p>
<p>[code language="python"]</p>
<p>from sympy.external import import_module</p>
<p>gmpy = import_module('gmpy', min_module_version='1.03',
    module_version_attr='version', module_version_attr_call_args=())
[/code]</p>
<p>This tells it to check the version of gmpy using <code>gmpy.version()</code>, and to import it only if it's at least 1.03 (note that this works by the fact that Python lexicographically compares strings and tuples, so <code>'1.02' &lt; '1.03'</code> returns True).</p>
<p>The sympy.external module is completely independent of the rest of SymPy (it does not call <code>sympy/<strong>init</strong>.py</code>), so you can use it even outside of sympy without the performance penalty that importing all of sympy might bring.  </p>
<p>So, hopefully this is the last issue to fix for the 0.7.0 release.  You can still test it at <a href="https://github.com/sympy/sympy/tree/0.7.0" target="_blank">https://github.com/sympy/sympy/tree/0.7.0</a>.  If people want, I will create another release candidate.  Otherwise, I will release 0.7.0 final on Monday (barring any further problems).</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/24/import_module-the-hopefully-last-fix-for-0-7-0.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/24/import_module-the-hopefully-last-fix-for-0-7-0.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/17/fixing-bugs-in-the-release-candidate.html" class="u-url">Fixing bugs in the release candidate</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-06-17T04:00:55+00:00">2011-06-17 04:00</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>This week, I mostly worked on fixing bugs that people found in the <a href="http://asmeurersympy.wordpress.com/2011/06/13/sympy-0-7-0-rc1-is-out/">release candidate</a> I released last week.  I discovered right after releasing it that it did not work in Python 2.4 or 2.5 because of a syntax error.  So I fixed those and created SymPy 0.7.0.rc2 (<a href="http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.0.rc2.tar.gz" target="_blank">source</a>; <a href="http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.0.rc2.win32.exe" target="_blank">windows installer</a>).  </p>
<p>Things were going pretty smoothly with that, until Renato Coutinho discovered that there were test failures in Python 2.4 on Windows, and that the tests failed if ran twice in the same session (i.e., by using <code>test()</code> in isympy).  I was able to fix the failures resulting from two sessions, which were almost all caused by a test modifying some global value or being written in a way that did not allow it to pass when run twice.  But I do not have a Windows machine, so I couldn't reproduce the Windows failures.</p>
<p>Fortunately, yesterday, Renato, Chris Smith, and I were able to debug the problems over IRC.  The main problem was that sympy/core/evalf.py had code</p>
<p>[code language="py"]</p>
<p>INF = 1e1000</p>
<p>MINUS_INF = -1e1000</p>
<p>[/code]</p>
<p>These were intended to give <code>float('inf')</code> and <code>float('-inf')</code>, respectively (floating point infinity and negative infinity). And they did do this… on all platforms except for Python 2.4 on Windows.  From what I can tell from what Chris told me, on that platform it instead gives 1.0.  Strangely, <code>float('inf')</code> did not give floating point infinity either.  We discovered that <code>float(mpmath_inf)</code> did give floating point infinity, where <code>mpmath_inf</code> is mpmath's infinity.  This of course also works in all other platforms, so changing it made the code work everywhere.</p>
<p>After that, there was only one test failure left in Windows (originally there were dozens of errors, but all but one were caused by the above problem).  It turns out that the <code>subprocess</code> module from the codegen module was causing the test runner to fail entirely.  Our solution was to skip this test completely in Python 2.4 on Windows.</p>
<p>So now we had all tests passing on all platforms with all ground types, even if run twice from within the same session.</p>
<p>But it turned out there was still one more error lurking, found by Renato.  A bunch of mpmath tests failed in Python 2.4 when gmpy was installed.  I had never gotten gmpy to compile, so I have only had it installed on my machine for those Python executables installed by fink (2.5-2.7, 64-bit).  </p>
<p>It turns out that mpmath uses gmpy if it is installed.  There were a few places in the code where it was doing things like line 1947 of mpmath/libmp/gammazeta.py, shown below:</p>
<p>[code language="py"]</p>
<p>return mpf_pos(small_factorial_cache[n-1], prec, rnd)</p>
<p>[/code]</p>
<p>The problem was that <code>n</code> was an <code>mpz</code>, or gmpy integer.  But Python 2.4 and ealier do not support non-int types as the index to lists.  It wasn't until Python 2.5's <a href="http://docs.python.org/reference/datamodel.html?highlight=__index__#object.__index__" target="_blank"><code><strong>index</strong></code></a> method that non-int/long types were able to be used as slice indices.  </p>
<p>This idiom was being used in several places throughout the code, so rather than try to patch them all, we decided to just disable the gmpy backend in mpmath for Python 2.4.  This issue had never come up before to my knowledge, so it seems that he was the first person to run the mpmath tests in Python 2.4 with gmpy installed.  </p>
<p>So now tests should be passing everywhere in the <a href="posts/2011/06/17/github.com/sympy/sympy/tree/0.7.0" target="_blank">0.7.0 branch</a>.  Please continue to test it, though.  If it will make it easier to test, I will create a 0.7.0.rc3 with all the latest fixes.  Otherwise, barring any further major fixes, I will release 0.7.0 final in about a week.</p>
<p>And a big thanks for Renato Coutinho and Chris Smith for helping me debug and fix these bugs.   </p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/17/fixing-bugs-in-the-release-candidate.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/17/fixing-bugs-in-the-release-candidate.html">Comments</a>


        </p></article>
        <article class="postbox h-entry post-text">
        <h1 class="p-name"><a href="posts/2011/06/13/sympy-0-7-0-rc1-is-out.html" class="u-url">SymPy 0.7.0.rc1 is out!</a>
        <small>  
             Posted: <time class="published dt-published" datetime="2011-06-13T01:15:03+00:00">2011-06-13 01:15</time>
        </small></h1>
        <hr>
        <div class="e-content">
        <div><p></p><p>My blog post is a little late this week because I wanted to be able to announce this.  I have released the first release candidate for SymPy 0.7.0 (see <a href="https://asmeurersympy.wordpress.com/2011/05/26/update-for-the-beginning-of-the-summer/" target="_blank">this previous blog post</a> for a little bit of what's new since the last release).  You can download source (Linux/Mac OS X version) <a href="http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.0.rc1.tar.gz" target="_blank">here</a> and the Windows installer <a href="http://code.google.com/p/sympy/downloads/detail?name=sympy-0.7.0.rc1.win32.exe" target="_blank">here</a>.  Please download it at test it.</p>
<p>Unfortunately, I discovered soon after releasing it that the code does not work in Python 2.4 or 2.5.  I will soon release SymPy 0.7.0.rc2 to fix this. Please test it in Python 2.6 and 2.7 until then, or test the <a href="https://github.com/sympy/sympy/tree/0.7.0" target="_blank">0.7.0 branch</a> of the official SymPy repository.</p>
<p>If everything goes smoothly, then the full release should be out in a week or so.  Watch this blog or the <a href="http://sympy.blogspot.com/" target="_blank">official SymPy blog</a> for the announcement.</p></div>
        </div>
            
        
    <p>
        <a href="posts/2011/06/13/sympy-0-7-0-rc1-is-out.html#disqus_thread" data-disqus-identifier="cache/posts/2011/06/13/sympy-0-7-0-rc1-is-out.html">Comments</a>


        </p></article>
    
        <div>
        <ul class="pager">
            <li class="previous">
                <a href="index-7.html" rel="prev">← Newer posts</a>
            </li>
            <li class="next">
                <a href="index-5.html" rel="next">Older posts →</a>
            </li>
        </ul>
        </div>

    
        
       <script>var disqus_shortname="nikolademo";(function(){var a=document.createElement("script");a.async=true;a.src="//"+disqus_shortname+".disqus.com/count.js";(document.getElementsByTagName("head")[0]||document.getElementsByTagName("body")[0]).appendChild(a)}());</script>


	
        <script type="text/x-mathjax-config">
        MathJax.Hub.Config({
          tex2jax: {inlineMath: [['$latex ','$'], ['\\(','\\)']]}
        });
        </script>
        <script src="assets/js/mathjax.js"></script>


        </div>
        <!--End of body content-->

        <footer>
            Contents © 2014         <a href="mailto:joe@example.com">Joe Example</a> - Powered by         <a href="http://getnikola.com" rel="nofollow">Nikola</a>         
        </footer>
    </div>
</div>


            <script src="assets/js/all-nocdn.js" type="text/javascript"></script>


    
<!-- Social buttons -->
<div id="addthisbox" class="addthis_toolbox addthis_peekaboo_style addthis_default_style addthis_label_style addthis_32x32_style">
<a class="addthis_button_more">Share</a>
<ul><li><a class="addthis_button_facebook"></a>
</li><li><a class="addthis_button_google_plusone_share"></a>
</li><li><a class="addthis_button_linkedin"></a>
</li><li><a class="addthis_button_twitter"></a>
</li></ul>
</div>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-4f7088a56bb93798"></script>
<!-- End of social buttons -->


    <script type="text/javascript">jQuery("a.image-reference").colorbox({rel:"gal",maxWidth:"100%",maxHeight:"100%",scalePhotos:true});</script>
    

</body>
</html>